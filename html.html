<div class="wrapper">  
	<!--<input name="attr_fixme" type="text" value=""/>
	<button name="roll_fixme" type="roll" value="!shadowrun --character @{character_id} --action fix-repeating --name @{fixme}">Roll</button>-->

	<input class="hidden settings-show-matrix" type="checkbox" name="attr_settings_show_matrix" checked="checked" />
	<input class="hidden settings-is-technomancer" type="checkbox" name="attr_settings_is_technomancer" checked="checked"/>
	<input class="hidden settings-is-mage" type="checkbox" name="attr_settings_is_mage" checked="checked" />
	<input class="hidden settings-has-spellcasting" type="checkbox" name="attr_settings_has_spellcasting" checked="checked" />
	<input class="hidden settings-has-alchemy" type="checkbox" name="attr_settings_has_alchemy" checked="checked" />
	<input class="hidden settings-has-summoning" type="checkbox" name="attr_settings_has_summoning" checked="checked" />
	<input class="hidden settings-has-rituals" type="checkbox" name="attr_settings_has_rituals" checked="checked" />
	<input class="hidden settings-has-adeptpowers" type="checkbox" name="attr_settings_has_adeptpowers" checked="checked" />
	
	<!-- Sheet Worker Helper -->
	<input class="hidden" type="text" name="attr_cmd_use_edge_token"/>
	<input class="hidden" type="text" name="attr_cmd_use_edge_text"/>
	<input class="hidden" type="text" name="attr_cmd_use_edge_mod"/>
	<input class="hidden" type="text" name="attr_cmd_injury_mod"/>
	<input class="hidden" type="text" name="attr_cmd_injury_text"/>
	
	<!--  First Menu Row -->
	<input class="tab tab-basis" type="radio" name="attr_tabs" value="0" checked="checked" />
	<span class="tab" title="Charakter" ></span>
	<input class="tab tab-skills" type="radio" name="attr_tabs" value="1"/>
	<span class="tab" title="Fertigkeiten" ></span>
	<input class="tab tab-combat" type="radio" name="attr_tabs" value="2"/>	
	<span class="tab" title="Kampf" ></span>
	<input class="tab tab-magic" type="radio" name="attr_tabs" value="3"/>
	<span class="tab" title="Magie" ></span>
	<input class="tab tab-matrix" type="radio" name="attr_tabs" value="4"/>
	<span class="tab" title="Matrix" ></span>
	<input class="tab tab-technomancer" type="radio" name="attr_tabs" value="5"/>
	<span class="tab" title="Technomancer" ></span>
	<input class="tab tab-social" type="radio" name="attr_tabs" value="6"/>
	<span class="tab" title="Sozial" ></span>
	<input class="tab tab-equipment" type="radio" name="attr_tabs" value="7"/>
	<span class="tab" title="Ausrüstung" ></span>
	
	<!-- Charactersheet Menu -->	
	<input class="sheet-type sheet-type-sc" type="radio" name="attr_sheet_type" value="SC" checked="checked"/>
	<span class="sheet-type sheet-type-sc" title="SC" ></span>
	<input class="sheet-type sheet-type-nsc" type="radio" name="attr_sheet_type" value="NSC"/>
	<span class="sheet-type sheet-type-nsc" title="NSC" ></span>
	<input class="sheet-type sheet-type-other" type="radio" name="attr_sheet_type" value="OTHER"/>
	<span class="sheet-type sheet-type-other" title="OTHER" ></span>
	
	<!-- Settings -->	
	<input  class="sheet-injury" type="checkbox" name="attr_use_injury_mod"></input>
	<span class="sheet-injury" title="Verletzung" ></span>	
	<input  class="sheet-use-edge" type="checkbox" name="attr_use_edge"></input>
	<span class="sheet-use-edge" title="Edge" ></span>
	
	<div class="clear"></div>
	
	<!-- Submenu: Basis -->
	<input class="tab tab-sub tab-sub-menu tab-sub-basis tab-character" type="radio" name="attr_menu_basis" value="0" checked />
	<span  class="tab tab-sub tab-sub-menu tab-sub-basis tab-character" title="Charakter" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-basis tab-attributes" type="radio" name="attr_menu_basis" value="1"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-basis tab-attributes" title="Attribute" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-basis tab-qualities" type="radio" name="attr_menu_basis" value="2"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-basis tab-qualities" title="Vor/Nachteile" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-basis tab-description" type="radio" name="attr_menu_basis" value="3"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-basis tab-description" title="Beschreibung" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-basis tab-advancement" type="radio" name="attr_menu_basis" value="4"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-basis tab-advancement" title="Entwicklung" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-basis tab-settings" type="radio" name="attr_menu_basis" value="5"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-basis tab-settings" title="Einstellungen" ></span>
	
	<!-- Submenu: Skills -->
	<input class="tab tab-sub tab-sub-menu tab-sub-skills tab-actionskills" type="radio" name="attr_menu_skills" value="0" checked />
	<span  class="tab tab-sub tab-sub-menu tab-sub-skills tab-actionskills" title="Aktion" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-skills tab-knowledgeskills" type="radio" name="attr_menu_skills" value="1"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-skills tab-knowledgeskills" title="Wissen" ></span>
	
	<!-- Submenu: Magic -->
	<div class="tab-sub-magic">
		<input class="tab tab-sub tab-sub-menu tab-sub-magic tab-spellcasting" type="radio" name="attr_menu_magic" value="0" checked />
		<span  class="tab tab-sub tab-sub-menu tab-sub-magic tab-spellcasting" title="Spruchzauberei" ></span>
		<input class="tab tab-sub tab-sub-menu tab-sub-magic tab-alchemy" type="radio" name="attr_menu_magic" value="1"/>
		<span  class="tab tab-sub tab-sub-menu tab-sub-magic tab-alchemy" title="Alchemie" ></span>
		<input class="tab tab-sub tab-sub-menu tab-sub-magic tab-summoning" type="radio" name="attr_menu_magic" value="2"/>
		<span  class="tab tab-sub tab-sub-menu tab-sub-magic tab-summoning" title="Beschwören" ></span>
		<input class="tab tab-sub tab-sub-menu tab-sub-magic tab-rituals" type="radio" name="attr_menu_magic" value="3"/>
		<span  class="tab tab-sub tab-sub-menu tab-sub-magic tab-rituals" title="Rituale" ></span>
		<input class="tab tab-sub tab-sub-menu tab-sub-magic tab-adeptpowers" type="radio" name="attr_menu_magic" value="4"/>
		<span  class="tab tab-sub tab-sub-menu tab-sub-magic tab-adeptpowers" title="Adeptenkräfte" ></span>
		<input class="tab tab-sub tab-sub-menu tab-sub-magic tab-tradition" type="radio" name="attr_menu_magic" value="5"/>
		<span  class="tab tab-sub tab-sub-menu tab-sub-magic tab-tradition" title="Tradition" ></span>
		
		<div class="clear"></div>

		<div class="tab tab-magic-spellcasting">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Zauber</div>
					<div class="w45px">Wert</div>
					<div class="w45px">Mod</div>
					<div class="w45px">Total</div>
				</div>
				<fieldset class="repeating_spellcasting">
					<input  class="hidden" type="text" name="attr_spellcasting_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_spellcasting_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_spellcasting_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_spellcasting_basis" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_spellcasting_basis' value='!shadowrun --character @{character_id} --action spellcasting-cast --id @{spellcasting_id} --spellname "@{spellcasting_name}" --basis @{spellcasting_basis} --mod 0 --force ?{Kraftstufe?|1}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_spellcasting_mod" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_spellcasting_mod' value='!shadowrun --character @{character_id} --action spellcasting-cast --id @{spellcasting_id} --spellname "@{spellcasting_name}" --basis @{spellcasting_basis} --mod ?{Modifikator?|@{spellcasting_mod}} --force ?{Kraftstufe?|1}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_spellcasting" value="@{spellcasting_basis}+@{spellcasting_mod}" disabled></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_spellcasting' value='!shadowrun --character @{character_id} --action spellcasting-cast --id @{spellcasting_id} --spellname "@{spellcasting_name}" --basis @{spellcasting_basis} --mod @{spellcasting_mod} --force ?{Kraftstufe?|1}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_spellcasting_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--pools, dodge, etc-->
			</div><!--float-->
		</div><!--submenu:spellcasting-->
		
		<div class="tab tab-magic-alchemy">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Zauber</div>
					<div class="w45px">Pool</div>
					<div class="w45px">Mod</div>
					<div class="w45px">Total</div>
				</div>
				<fieldset class="repeating_alchemyspells">
					<input  class="hidden" type="text" name="attr_alchemyspells_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_alchemy_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_alchemy_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_alchemy_basis" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_alchemy_basis' value='!shadowrun --character @{character_id} --action alchemy-prepare --spell-name "@{alchemy_name}" --basis @{alchemy_basis} --mod 0 --ks ?{Kraftstufe?|1} --trigger @{trigger_entzug}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_alchemy_mod" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_alchemy_mod' value='!shadowrun --character @{character_id} --action alchemy-prepare --spell-name "@{alchemy_name}" --basis @{alchemy_basis} --mod ?{Mod|@{alchemy_mod}} --ks ?{Kraftstufe?|1} --trigger @{trigger_entzug}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_alchemy"  value="@{alchemy_basis}+@{alchemy_mod}" disabled="disabled"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_alchemy' value='!shadowrun --character @{character_id} --action alchemy-prepare --spell-name "@{alchemy_name}" --basis @{alchemy_basis} --mod @{alchemy_mod} --ks ?{Kraftstufe?|1} --trigger @{trigger_entzug}'></button>
						<select name="attr_trigger_entzug" class="buttoninput buttoninput-right trigger-select w110px">
						  <option value="Befehl">Befehl</option>
						  <option value="Kontakt">Kontakt</option>
						  <option value="Zeitzünder">Zeitzünder</option>
						  <option value="Ver._Befehl">Ver. Befehl</option>
						  <option value="Ver._Kontakt">Ver. Kontakt</option>
						  <option value="Ver._Kontakt_Geschlecht/Metatyp">Ver. Kontakt Geschlecht/Metatyp</option>
						</select>  
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_alchemy_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--pools, dodge, etc-->
			</div><!--float-->
			
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Präparate</div>
					<div class="w45px">Wirk.</div>
					<div class="w45px">KS</div>
					<div class="w45px">Total</div>
				</div>
				<fieldset class="repeating_preparations">
					<input  class="hidden" type="text" name="attr_preparations_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_preparations_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_preparations_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_preparations_basis" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_preparations_basis' value='!shadowrun --character @{character_id} --action alchemy-use --id @{preparations_id} --wirksamkeit @{preparations_basis} --force @{preparations_mod}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_preparations_mod" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_preparations_mod' value='!shadowrun --character @{character_id} --action alchemy-use --id @{preparations_id} --wirksamkeit @{preparations_basis} --force @{preparations_mod}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_preparations" value="@{preparations_basis}+@{preparations_mod}" disabled="disabled"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_preparations' value='!shadowrun --character @{character_id} --action alchemy-use --id @{preparations_id} --wirksamkeit @{preparations_basis} --force @{preparations_mod}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Herstellungszeitpunkt</div>
							<input  class="buttoninput buttoninput-both left" type="text" name="attr_preparations_date" value="0"></input>
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_preparations_note" class="w95 h100px clear"></textarea>
							
						</div>
					</div>
				</fieldset><!--pools, dodge, etc-->
			</div><!--float-->
		</div><!--submenu:alchemy-->
		
		<div class="tab tab-magic-summoning">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Geist</div>
					<div class="w45px">Pool</div>
					<div class="w45px">Mod</div>
					<div class="w45px">Total</div>
				</div>
				<fieldset class="repeating_summonspirit">
					<input  class="hidden" type="text" name="attr_summonspirit_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_summonspirit_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_summonspirit_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_summonspirit_basis" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_summonspirit_basis' value='!summon Geister-@{summonspirit_name} T
!shadowrun --character @{character_id} --action summon-spirit --spirit-name @{summonspirit_name} --basis @{summonspirit_basis} --mod 0 --force ?{Kraftstufe?|1}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_summonspirit_mod" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_summonspirit_mod' value='!summon Geister-@{summonspirit_name} T
!shadowrun --character @{character_id} --action summon-spirit --spirit-name @{summonspirit_name} --basis @{summonspirit_basis} --mod ?{Modifikator?|@{summonspirit_mod}} --force ?{Kraftstufe?|1}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_summonspirit" value="@{summonspirit_basis}+@{summonspirit_mod}" disabled="disabled"></input>
						<button class="buttoninput buttoninput-right" type='roll'  name='roll_summonspirit' value='!summon Geister-@{summonspirit_name} T
!shadowrun --character @{character_id} --action summon-spirit --spirit-name @{summonspirit_name} --basis @{summonspirit_basis} --mod @{summonspirit_mod} --force ?{Kraftstufe?|1}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_summonspirit_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--pools, dodge, etc-->
			</div><!--float-->
						
			<fieldset class="repeating_activespirits">
				<input  class="hidden" type="text" name="attr_activespirits_id" value=""></input>
				<div class="float card">
					<div class="row labels color-darkred">
						<div class="w155px">Aktive Geister</div>
						<div class="w45px">Stufe</div>
						<div class="w45px">Dienste</div>
					</div>
					
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_activespirits_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_activespirits_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_activespirits_stufe"   value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_stufe'   value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_activespirits_dienste" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_dienste' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
						
						<div class="details">
							<div class="row labels color-darkred">
								<div class="w45px">KON</div>
								<div class="w45px">STR</div>
								<div class="w45px">GES</div>
								<div class="w45px">REA</div>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_kon" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_kon' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_str" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_str' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_ges" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_ges' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_rea" value="0"></input>
								<button class="buttoninput buttoninput-right" type='roll'  name='roll_activespirits_rea' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
							</div>
							<div class="row labels color-darkblue">
								<div class="w45px">INT</div>
								<div class="w45px">LOG</div>
								<div class="w45px">WIL</div>
								<div class="w45px">CHA</div>
							</div>
							<div class="row labels color-darkblue">
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_int" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_int' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_log" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_log' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_wil" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_wil' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_cha" value="0"></input>
								<button class="buttoninput buttoninput-right" type='roll'  name='roll_activespirits_cha' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
							</div>
							<div class="row labels color-blueviolet">
								<div class="w45px">EDG</div>
								<div class="w45px">ESS</div>
								<div class="w45px">MAG</div>
							</div>
							<div class="row labels color-blueviolet">
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_edg" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_edg' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_ess" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activespirits_ess' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activespirits_mag" value="0"></input>
								<button class="buttoninput buttoninput-right"  type='roll' name='roll_activespirits_mag' value='/w gm Noch nicht implementiert @{activespirits_id}'></button>
							</div>				
							
							<div class="row labels color-darkred">
								<div class="w45px">Fertigkeiten</div>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_1_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_1_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_1' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_1_name}}}{{basis=@{activespirits_skill_1_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_1_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_1_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_2_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_2_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_2' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_2_name}}}{{basis=@{activespirits_skill_2_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_2_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_2_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_3_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_3_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_3' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_3_name}}}{{basis=@{activespirits_skill_3_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_3_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_3_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_4_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_4_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_4' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_4_name}}}{{basis=@{activespirits_skill_4_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_4_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_4_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_5_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_5_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_5' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_5_name}}}{{basis=@{activespirits_skill_5_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_5_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_5_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_6_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_6_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_6' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_6_name}}}{{basis=@{activespirits_skill_6_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_6_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_6_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_7_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_7_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_7' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_7_name}}}{{basis=@{activespirits_skill_7_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_7_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_7_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_8_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_8_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_8' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_8_name}}}{{basis=@{activespirits_skill_8_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_8_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_8_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_9_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_9_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_9' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_9_name}}}{{basis=@{activespirits_skill_9_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_9_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_9_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_skill_10_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_skill_10_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_skill_100' value='/w gm &{template:roll}{{text=@{activespirits_name} benutzt @{activespirits_skill_10_name}}}{{basis=@{activespirits_skill_10_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activespirits_skill_10_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activespirits_skill_10_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							
							<div class="row labels color-darkred">
								<div class="w45px">Kräfte</div>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_1_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_1_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_1' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_1_name}}}{{art=%{Kräfte-@{activespirits_power_1_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_1_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_1_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_1_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_1_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_2_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_2_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_2' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_2_name}}}{{art=%{Kräfte-@{activespirits_power_2_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_2_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_2_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_2_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_2_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_3_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_3_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_3' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_3_name}}}{{art=%{Kräfte-@{activespirits_power_3_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_3_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_3_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_3_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_3_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_4_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_4_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_4' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_4_name}}}{{art=%{Kräfte-@{activespirits_power_4_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_4_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_4_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_4_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_4_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_5_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_5_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_5' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_5_name}}}{{art=%{Kräfte-@{activespirits_power_5_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_5_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_5_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_5_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_5_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_6_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_6_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_6' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_6_name}}}{{art=%{Kräfte-@{activespirits_power_6_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_6_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_6_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_6_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_6_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_7_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_7_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_7' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_7_name}}}{{art=%{Kräfte-@{activespirits_power_7_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_7_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_7_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_7_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_7_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_8_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_8_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_8' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_8_name}}}{{art=%{Kräfte-@{activespirits_power_8_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_8_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_8_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_8_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_8_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_9_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_9_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_9' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_9_name}}}{{art=%{Kräfte-@{activespirits_power_9_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_9_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_9_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_9_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_9_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_power_10_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_power_10_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_power_10' value='/w gm &{template:kraft}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_power_10_name}}}{{art=%{Kräfte-@{activespirits_power_10_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_power_10_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_power_10_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_power_10_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_power_10_name}|Beschreibung}}}'></button>
							</div>
							
							<div class="row labels color-darkred">
								<div class="w45px">Schwächen</div>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_1_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_1_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_1' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_1_name}}}{{art=%{Kräfte-@{activespirits_weakness_1_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_1_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_1_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_1_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_1_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_2_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_2_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_2' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_2_name}}}{{art=%{Kräfte-@{activespirits_weakness_2_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_2_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_2_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_2_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_2_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_3_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_3_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_3' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_3_name}}}{{art=%{Kräfte-@{activespirits_weakness_3_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_3_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_3_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_3_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_3_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_4_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_4_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_4' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_4_name}}}{{art=%{Kräfte-@{activespirits_weakness_4_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_4_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_4_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_4_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_4_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_5_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_5_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_5' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_5_name}}}{{art=%{Kräfte-@{activespirits_weakness_5_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_5_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_5_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_5_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_5_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_6_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_6_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_6' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_6_name}}}{{art=%{Kräfte-@{activespirits_weakness_6_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_6_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_6_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_6_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_6_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_7_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_7_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_7' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_7_name}}}{{art=%{Kräfte-@{activespirits_weakness_7_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_7_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_7_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_7_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_7_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_8_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_8_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_8' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_8_name}}}{{art=%{Kräfte-@{activespirits_weakness_8_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_8_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_8_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_8_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_8_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_9_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_9_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_9' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_9_name}}}{{art=%{Kräfte-@{activespirits_weakness_9_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_9_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_9_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_9_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_9_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activespirits_weakness_10_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activespirits_weakness_10_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activespirits_weakness_10' value='/w gm &{template:schwaeche}{{text=@{activespirits_name} benutzt }}{{name=@{activespirits_weakness_10_name}}}{{art=%{Kräfte-@{activespirits_weakness_10_name}|Art}}}{{handlung=%{Kräfte-@{activespirits_weakness_10_name}|Handlung}}}{{dauer=%{Kräfte-@{activespirits_weakness_10_name}|Dauer}}}{{reichweite=%{Kräfte-@{activespirits_weakness_10_name}|Reichweite}}}{{beschreibung=%{Kräfte-@{activespirits_weakness_10_name}|Beschreibung}}}'></button>
							</div>
							
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_activespirits_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</div><!--float-->
			</fieldset><!--pools, dodge, etc-->			
		</div><!--submenu:summoning-->
		
		<div class="tab tab-magic-rituals">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Ritual</div>
					<div class="w45px">Pool</div>
					<div class="w45px">Mod</div>
					<div class="w45px">Total</div>
				</div>
				<fieldset class="repeating_rituals">
					<input  class="hidden" type="text" name="attr_rituals_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_rituals_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_rituals_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_rituals_basis" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_rituals_basis' value='/w gm Noch nicht implementiert @{rituals_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_rituals_mod"   value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_rituals_mod'   value='/w gm Noch nicht implementiert @{rituals_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_rituals"       value="0"></input>
						<button class="buttoninput buttoninput-right" type='roll'  name='roll_rituals'       value='/w gm Noch nicht implementiert @{rituals_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_rituals_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--pools, dodge, etc-->
			</div><!--float-->
		</div><!--submenu:rituals-->
		
		<div class="tab tab-magic-adeptpowers">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Adeptenkraft</div>
					<div class="w45px">Pool</div>
					<div class="w45px">Mod</div>
					<div class="w45px">Total</div>
				</div>
				<fieldset class="repeating_adeptpowers">
					<input  class="hidden" type="text" name="attr_adeptpowers_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_adeptpowers_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_adeptpowers_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_adeptpowers_basis" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_adeptpowers_basis' value="/w gm &{template:roll}{{color=purple}}{{text=@{adeptpowers_name}}}{{desc=@{adeptpowers_note}}}{{basis=@{adeptpowers_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{adeptpowers_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{adeptpowers_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_adeptpowers_mod"   value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_adeptpowers_mod'   value="/w gm &{template:roll}{{color=purple}}{{text=@{adeptpowers_name}}}{{desc=@{adeptpowers_note}}}{{basis=@{adeptpowers_basis}}}{{mod=[[?{Modifikator|@{adeptpowers_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{adeptpowers_basis}+?{Modifikator|@{adeptpowers_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{adeptpowers_basis}+?{Modifikator|@{adeptpowers_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_adeptpowers"       value="0"></input>
						<button class="buttoninput buttoninput-right" type='roll'  name='roll_adeptpowers'       value="/w gm &{template:roll}{{color=purple}}{{text=@{adeptpowers_name}}}{{desc=@{adeptpowers_note}}}{{basis=@{adeptpowers_basis}}}{{mod=[[@{adeptpowers_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{adeptpowers_basis}+@{adeptpowers_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{adeptpowers_basis}+@{adeptpowers_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_adeptpowers_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--pools, dodge, etc-->
			</div><!--float-->
		</div><!--submenu:adeptpowers-->
		
		<div class="tab tab-magic-tradition">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w105px">Tradition</div>
					<div class="w85px">Entzugsattribut</div>
					<div class="w50px center">WIL</div>
					<div class="w50px center">Mod</div>
					<div class="w45px">Total</div>
				</div>
				<div class="row">
					<input  class="show-details" type="checkbox" name="attr_tradition_show_details"></input>
					<span  class="show-details color-darkred"></span>

					<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_tradition_name" value="0"></input>
					<select name="attr_tradition_drainattribute" class="buttoninput buttoninput-center w60px">
					  <option value="@{kon}">KON</option>
					  <option value="@{ges}">GES</option>
					  <option value="@{rea}">REA</option>
					  <option value="@{str}">STR</option>
					  <option value="@{wil}">WIL</option>
					  <option value="@{log}">LOG</option>
					  <option value="@{int}">INT</option>
					  <option value="@{cha}">CHA</option>
					  <option value="@{mag}">MAG</option>
					  <option value="@{res}">RES</option>
					</select>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_display_drainattribute" value="@{tradition_drainattribute}" disabled></input>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_tradition_drainmod"  value="0"></input>				
					<input  class="buttoninput buttoninput-center" type="text" name="attr_tradition_drainpool" value="@{tradition_drainattribute}+@{tradition_drainmod}+@{wil}" disabled></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_tradition_drainpool' value='/w gm &{template:roll}{{color=darkblue}}{{text=Entzug}}{{basis=[[@{tradition_drainattribute}+@{wil}]]}}{{mod=[[@{tradition_drainmod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{tradition_drainattribute}+@{wil}+@{tradition_drainmod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{tradition_drainattribute}+@{wil}+@{tradition_drainmod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					
					<div class="details">
						<div class="labels color-darkred w100">Notizen</div>
						<textarea name="attr_tradition_note" class="w95 h100px clear"></textarea>
					</div>
				</div>
			</div><!--float-->
			
			<div class="clear"></div>
			
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Schutzpatron</div>
					<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_patron_name" value="0"></input>
				</div>
				<div class="row labels color-darkred">
					<div class="w155px">Vorteile</div>
					<textarea name="attr__patron_positive_qualities" class="w95 h100px clear"></textarea>
				</div>				
				<div class="row labels color-darkred">
					<div class="w155px">Nachteile</div>
					<textarea name="attr__patron_negative_qualities" class="w95 h100px clear"></textarea>
				</div>				
			</div><!--float-->
		</div><!--submenu:tradition-->
	</div><!--sub-magic-->
	
	<!-- Submenu: Matrix -->
	<input class="tab tab-sub tab-sub-menu tab-sub-matrix tab-matrixequipment" type="radio" name="attr_menu_matrix" value="0" checked />
	<span  class="tab tab-sub tab-sub-menu tab-sub-matrix tab-matrixequipment" title="Ausrüstung" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-matrix tab-programs"        type="radio" name="attr_menu_matrix" value="1"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-matrix tab-programs"        title="Programme" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-matrix tab-matrixactions"   type="radio" name="attr_menu_matrix" value="2"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-matrix tab-matrixactions"   title="Aktionen" ></span>
	
	<!-- Submenu: Technomancer -->
	<input class="tab tab-sub tab-sub-menu tab-sub-technomancer tab-livingpersona" type="radio" name="attr_menu_technomancer" value="0" checked />
	<span  class="tab tab-sub tab-sub-menu tab-sub-technomancer tab-livingpersona" title="Persona" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-technomancer tab-complexforms"  type="radio" name="attr_menu_technomancer" value="1"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-technomancer tab-complexforms"  title="KF" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-technomancer tab-sprites"       type="radio" name="attr_menu_technomancer" value="2"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-technomancer tab-sprites"       title="Sprites" ></span>
	
	<!-- Submenu: Social -->
	<input class="tab tab-sub tab-sub-menu tab-sub-social tab-sinlicense"  type="radio" name="attr_menu_social" value="0" checked />
	<span  class="tab tab-sub tab-sub-menu tab-sub-social tab-sinlicense"  title="SIN/Lizenzen" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-social tab-lifestyles"  type="radio" name="attr_menu_social" value="1"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-social tab-lifestyles"  title="Lebensstile" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-social tab-connections" type="radio" name="attr_menu_social" value="2"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-social tab-connections" title="Connections" ></span>
		
	<!-- Submenu: Equipment -->
	<input class="tab tab-sub tab-sub-menu tab-sub-equipment tab-equipment-equipment" type="radio" name="attr_menu_equipment" value="0" checked />
	<span  class="tab tab-sub tab-sub-menu tab-sub-equipment tab-equipment-equipment" title="Ausrüstung" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-equipment tab-augmentations"       type="radio" name="attr_menu_equipment" value="1"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-equipment tab-augmentations"       title="Augmentierung" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-equipment tab-ammunition"          type="radio" name="attr_menu_equipment" value="2"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-equipment tab-ammunition"          title="Munition" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-equipment tab-vehicles"            type="radio" name="attr_menu_equipment" value="3"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-equipment tab-vehicles"            title="Fahrzeuge" ></span>
	<input class="tab tab-sub tab-sub-menu tab-sub-equipment tab-drones"              type="radio" name="attr_menu_equipment" value="4"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-equipment tab-drones"              title="Drohnen" ></span>	
	<input class="tab tab-sub tab-sub-menu tab-sub-equipment tab-orders"              type="radio" name="attr_menu_equipment" value="5"/>
	<span  class="tab tab-sub tab-sub-menu tab-sub-equipment tab-orders"              title="Bestellungen" ></span>
	
	<div class="clear"></div>	
				
	<div class="tab tab-basis w100">
		<div class="tab tab-basis-character">
			<!--Personaldaten-->
			<div class="float card">
				<div class="row">
					<div   class="w80px labels color-darkred">Name</div>
					<input class="buttoninput buttoninput-both w250px left" type="text" name="attr_name"></input>
					<div   class="w80px labels color-darkred right margin-right-10">Geschlecht</div>
					<input class="buttoninput buttoninput-both w60px" type="text" name="attr_sex"></input>
				</div>
				
				<div class="row">
					<div   class="w80px labels color-darkred">Metatyp</div>
					<input class="buttoninput buttoninput-both w250px left" type="text" name="attr_metatype"></input>
					<div   class="w80px labels color-darkred right margin-right-10">Alter</div>
					<input class="buttoninput buttoninput-both w60px" type="text" name="attr_age"></input>
				</div>
				
				<div class="row">
					<div   class="w80px labels color-darkred">Ethnie</div>
					<input class="buttoninput buttoninput-both w250px left" type="text" name="attr_ethnicity"></input>
					<div   class="w80px labels color-darkred right margin-right-10">Größe</div>
					<input class="buttoninput buttoninput-both w60px" type="text" name="attr_height"></input>
				</div>
				
				<div class="row">
					<div   class="w110px labels color-darkred">Aktuelles Karma</div>
					<input class="buttoninput buttoninput-both w50px" type="text" name="attr_karma_current" readonly></input>
					<div   class="w95px labels color-darkred right margin-right-10">Gesamtkarma</div>
					<input class="buttoninput buttoninput-both w57px" type="text" name="attr_karma_total" readonly></input>					
					<div   class="w80px labels color-darkred right margin-right-10">Gewicht</div>
					<input class="buttoninput buttoninput-both w60px" type="text" name="attr_weight"></input>
				</div>
				
				<div class="row">
					<div   class="w110px labels color-darkred">Straßenruf</div>
					<input class="buttoninput buttoninput-both w50px" type="text" name="attr_reputation_street"></input>
					<div   class="w95px labels color-darkred right margin-right-10">Schlechter Ruf</div>
					<input class="buttoninput buttoninput-both w57px" type="text" name="attr_reputation_bad"></input>					
					<div   class="w80px labels color-darkred right margin-right-10">Prominenz</div>
					<input class="buttoninput buttoninput-both w60px" type="text" name="attr_repuation_prominence"></input>
				</div>
				
				<div class="row">
					<div   class="w80px labels color-darkred">Konto</div>
					<input class="buttoninput buttoninput-both w80px right" type="text" name="attr_nuyen_aktuell" value="0"></input>
					<span class="labels color-darkred margin-right-10">-</span>
					<input class="buttoninput buttoninput-both w80px right" type="text" name="attr_nuyen_total" readonly></input>
					<span class="labels color-darkred margin-right-10">=</span>
					<input class="buttoninput buttoninput-both w80px right" type="text" name="attr_nuyen_neu" readonly></input>
				</div>
				
			</div><!--float-->
		</div>
		
		<div class="tab tab-basis-attributes">
			<div class="float card">
				<!-- Attributes -->
				<div class="row labels color-darkred">
					<div class="w35px"></div>
					<div class="w145px center">Basis/Mod/Total</div>
				</div>

				<div class="row">
					<div class="w35px labels color-darkred">KON</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_kon_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_kon_basis' value='/w gm &{template:roll}{{color=darkred}}{{text=KON}}{{basis=@{kon_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{kon_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{kon_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_kon_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_kon_mod'   value='/w gm &{template:roll}{{color=darkred}}{{text=KON}}{{basis=@{kon_basis}}}{{mod=[[?{Mod|@{kon_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{kon_basis}+?{Mod|@{kon_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{kon_basis}+?{Mod|@{kon_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_kon"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_kon'       value="/w gm &{template:roll}{{color=darkred}}{{text=KON}}{{basis=@{kon_basis}}}{{mod=[[@{kon_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{kon}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{kon_basis}+@{kon_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
				<div class="row">
					<div class="w35px labels color-darkred">GES</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_ges_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_ges_basis' value='/w gm &{template:roll}{{color=darkred}}{{text=GES}}{{basis=@{ges_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{ges_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{ges_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_ges_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_ges_mod'   value='/w gm &{template:roll}{{color=darkred}}{{text=GES}}{{basis=@{ges_basis}}}{{mod=[[?{Mod|@{ges_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{ges_basis}+?{Mod|@{ges_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{ges_basis}+?{Mod|@{ges_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_ges"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_ges'       value="/w gm &{template:roll}{{color=darkred}}{{text=GES}}{{basis=@{ges_basis}}}{{mod=[[@{ges_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{ges}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{ges_basis}+@{ges_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
				<div class="row">
					<div class="w35px labels color-darkred">REA</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_rea_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_rea_basis' value='/w gm &{template:roll}{{color=darkred}}{{text=REA}}{{basis=@{rea_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{rea_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{rea_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_rea_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_rea_mod'   value='/w gm &{template:roll}{{color=darkred}}{{text=REA}}{{basis=@{rea_basis}}}{{mod=[[?{Mod|@{rea_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{rea_basis}+?{Mod|@{rea_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{rea_basis}+?{Mod|@{rea_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_rea"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_rea'       value="/w gm &{template:roll}{{color=darkred}}{{text=REA}}{{basis=@{rea_basis}}}{{mod=[[@{rea_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{rea}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{rea_basis}+@{rea_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
				<div class="row margin-bottom-10">
					<div class="w35px labels color-darkred">STR</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_str_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_str_basis' value='/w gm &{template:roll}{{color=darkred}}{{text=STR}}{{basis=@{str_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{str_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{str_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_str_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_str_mod'   value='/w gm &{template:roll}{{color=darkred}}{{text=STR}}{{basis=@{str_basis}}}{{mod=[[?{Mod|@{str_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{str_basis}+?{Mod|@{str_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{str_basis}+?{Mod|@{str_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_str"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_str'       value="/w gm &{template:roll}{{color=darkred}}{{text=STR}}{{basis=@{str_basis}}}{{mod=[[@{str_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{str}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{str_basis}+@{str_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
				<div class="row">
					<div class="w35px labels color-darkblue">WIL</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_wil_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_wil_basis' value='/w gm &{template:roll}{{color=darkblue}}{{text=WIL}}{{basis=@{wil_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{wil_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{wil_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_wil_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_wil_mod'   value='/w gm &{template:roll}{{color=darkblue}}{{text=WIL}}{{basis=@{wil_basis}}}{{mod=[[?{Mod|@{wil_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{wil_basis}+?{Mod|@{wil_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{wil_basis}+?{Mod|@{wil_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_wil"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_wil'       value="/w gm &{template:roll}{{color=darkblue}}{{text=WIL}}{{basis=@{wil_basis}}}{{mod=[[@{wil_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{wil}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{wil_basis}+@{wil_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
				<div class="row">
					<div class="w35px labels color-darkblue">LOG</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_log_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_log_basis' value='/w gm &{template:roll}{{color=darkblue}}{{text=LOG}}{{basis=@{log_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{log_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{log_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_log_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_log_mod'   value='/w gm &{template:roll}{{color=darkblue}}{{text=LOG}}{{basis=@{log_basis}}}{{mod=[[?{Mod|@{log_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{log_basis}+?{Mod|@{log_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{log_basis}+?{Mod|@{log_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_log"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_log'       value="/w gm &{template:roll}{{color=darkblue}}{{text=LOG}}{{basis=@{log_basis}}}{{mod=[[@{log_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{log}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{log_basis}+@{log_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
				<div class="row">
					<div class="w35px labels color-darkblue">INT</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_int_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_int_basis' value='/w gm &{template:roll}{{color=darkblue}}{{text=INT}}{{basis=@{int_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{int_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{int_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_int_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_int_mod'   value='/w gm &{template:roll}{{color=darkblue}}{{text=INT}}{{basis=@{int_basis}}}{{mod=[[?{Mod|@{int_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{int_basis}+?{Mod|@{int_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{int_basis}+?{Mod|@{int_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_int"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_int'       value="/w gm &{template:roll}{{color=darkblue}}{{text=INT}}{{basis=@{int_basis}}}{{mod=[[@{int_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{int}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{int_basis}+@{int_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
				<div class="row margin-bottom-10">
					<div class="w35px labels color-darkblue">CHA</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_cha_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_cha_basis' value='/w gm &{template:roll}{{color=darkblue}}{{text=CHA}}{{basis=@{cha_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{cha_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{cha_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_cha_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_cha_mod'   value='/w gm &{template:roll}{{color=darkblue}}{{text=CHA}}{{basis=@{cha_basis}}}{{mod=[[?{Mod|@{cha_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{cha_basis}+?{Mod|@{cha_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{cha_basis}+?{Mod|@{cha_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_cha"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_cha'       value="/w gm &{template:roll}{{color=darkblue}}{{text=CHA}}{{basis=@{cha_basis}}}{{mod=[[@{cha_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{cha}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{cha_basis}+@{cha_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
				<div class="row">
					<div class="is-mage">
						<div class="w35px labels color-blueviolet">MAG</div>
						<input  class="buttoninput buttoninput-left"   type="text" name="attr_mag_basis" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_mag_basis' value='/w gm &{template:roll}{{color=blueviolet}}{{text=MAG}}{{basis=@{mag_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{mag_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{mag_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_mag_mod"   value="0"></input>						
						<button class="buttoninput buttoninput-center" type='roll' name='roll_mag_mod'   value='/w gm &{template:roll}{{color=blueviolet}}{{text=MAG}}{{basis=@{mag_basis}}}{{mod=[[?{Mod|@{mag_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{mag_basis}+?{Mod|@{mag_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{mag_basis}+?{Mod|@{mag_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_mag"       readonly="true"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_mag'       value="/w gm &{template:roll}{{color=blueviolet}}{{text=MAG}}{{basis=@{mag_basis}}}{{mod=[[@{mag_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{mag}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{mag_basis}+@{mag_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
					</div>
				</div>		
				<div class="row">
					<div class="is-technomancer">
						<div class="w35px labels color-blueviolet">RES</div>
						<input  class="buttoninput buttoninput-left"   type="text" name="attr_res_basis" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_res_basis' value='/w gm &{template:roll}{{color=blueviolet}}{{text=RES}}{{basis=@{res_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{res_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{res_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_res_mod"   value="0"></input>						
						<button class="buttoninput buttoninput-center" type='roll' name='roll_res_mod'   value='/w gm &{template:roll}{{color=blueviolet}}{{text=RES}}{{basis=@{res_basis}}}{{mod=[[?{Mod|@{res_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{res_basis}+?{Mod|@{res_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{res_basis}+?{Mod|@{res_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_res"       readonly="true"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_res'       value="/w gm &{template:roll}{{color=blueviolet}}{{text=RES}}{{basis=@{res_basis}}}{{mod=[[@{res_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{res}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{res_basis}+@{res_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
					</div>
				</div>            
				<div class="row">
					<div class="w35px labels color-blueviolet">EDG</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_edg_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_edg_basis' value='/w gm &{template:roll}{{color=blueviolet}}{{text=EDG}}{{basis=@{edg_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{edg_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{edg_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_edg_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_edg_mod'   value='/w gm &{template:roll}{{color=blueviolet}}{{text=EDG}}{{basis=@{edg_basis}}}{{mod=[[?{Mod|@{edg_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{edg_basis}+?{Mod|@{edg_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{edg_basis}+?{Mod|@{edg_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_edg"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_edg'       value="/w gm &{template:roll}{{color=blueviolet}}{{text=EDG}}{{basis=@{edg_basis}}}{{mod=[[@{edg_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{edg}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{edg_basis}+@{edg_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}"></button>
				</div>
			</div><!--float-->
			
			<!--Derived Attributes -->
			<div class="float card">
			<!-- Attributes -->
				<div class="row labels color-darkred">
					<div class="w40px"></div>
					<div class="w145px center">Limits</div>
				</div>
				
				<div class="row">
					<div class="w40px labels color-darkred">Körp.</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_klimit_basis" readonly></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_klimit_basis' value='/w gm &{template:roll}{{erfolge=@{klimit_basis}}}{{text=Körperliches Limit}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_klimit_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_klimit_mod'   value='/w gm &{template:roll}{{erfolge=[[@{klimit_basis}+@{klimit_mod}]]}}{{text=Körperliches Limit}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_klimit"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_klimit'       value='/w gm &{template:roll}{{erfolge=[[@{klimit_basis}+@{klimit_mod}]]}}{{text=Körperliches Limit}}'></button>
				</div>
				<div class="row">
					<div class="w40px labels color-darkblue">Geis.</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_glimit_basis" readonly></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_glimit_basis' value='/w gm &{template:roll}{{erfolge=@{glimit_basis}}}{{text=Geistiges Limit}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_glimit_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_glimit_mod'   value='/w gm &{template:roll}{{erfolge=[[@{glimit_basis}+@{glimit_mod}]]}}{{text=Geistiges Limit}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_glimit"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_glimit'       value='/w gm &{template:roll}{{erfolge=[[@{glimit_basis}+@{glimit_mod}]]}}{{text=Geistiges Limit}}'></button>
				</div>
				<div class="row">
					<div class="w40px labels">Soz.</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_slimit_basis" readonly></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_slimit_basis' value='/w gm &{template:roll}{{erfolge=[[@{slimit_basis}]]}}{{text=Soziales Limit}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_slimit_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_slimit_mod'   value='/w gm &{template:roll}{{erfolge=[[@{slimit_basis}+@{slimit_mod}]]}}{{text=Soziales Limit}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_slimit"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_slimit'       value='/w gm &{template:roll}{{erfolge=[[@{slimit_basis}+@{slimit_mod}]]}}{{text=Soziales Limit}}'></button>
				</div>
				<div class="row">
					<div class="is-mage">
						<div class="w40px labels color-blueviolet">Astral</div>
						<input  class="buttoninput buttoninput-left"   type="text" name="attr_alimit_basis" readonly></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_alimit_basis' value='/w gm &{template:roll}{{erfolge=[[@{alimit_basis}]]}}{{text=Astrales Limit}}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_alimit_mod"   value="0"></input>						
						<button class="buttoninput buttoninput-center" type='roll' name='roll_alimit_mod'   value='/w gm &{template:roll}{{erfolge=[[@{alimit_basis}+@{alimit_mod}]]}}{{text=Astrales Limit}}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_alimit"       readonly="true"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_alimit'       value='/w gm &{template:roll}{{erfolge=[[@{alimit_basis}+@{alimit_mod}]]}}{{text=Astrales Limit}}'></button>
					</div>
				</div>
				
				<input  class="hidden" type="text" name="attr_initiative_basis_active"   readonly="true"></input>
				<input  class="hidden" type="text" name="attr_initiative_mod_active"     readonly="true"></input>
				<input  class="hidden" type="text" name="attr_initiative_wuerfel_active" readonly="true"></input>
				
				<div class="row labels color-darkred">
					<div class="w40px"></div>
					<div class="w140px center">Basis/Mod/+W6</div>
				</div>
				<div class="row color-darkred">
					<div class="w40px">
						<input class="ini_active ini_active_ini" type="radio" name="attr_ini_active" value="INI" checked="checked"/>
						<span class="ini_active ini_active_ini" title="INI" ></span>
					</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_initiative_basis"   readonly="true"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_initiative_basis'   value='/w gm &{template:roll}{{color=brown}}{{text=Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[0@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_initiative_mod"     value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_initiative_mod'     value='/w gm &{template:roll}{{color=brown}}{{text=Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6@{cmd_use_edge_token}sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_initiative_wuerfel" value="0"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_initiative_wuerfel' value='/w gm &{template:roll}{{color=brown}}{{text=Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[@{initiative_mod}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
				</div>
				<div class="row color-black">
					<div class="show-matrix">
						<div class="w40px">
							<input class="ini_active ini_active_ar" type="radio" name="attr_ini_active" value="AR"/>
							<span class="ini_active ini_active_ar" title="AR" ></span>
						</div>
						<input  class="buttoninput buttoninput-left"   type="text" name="attr_ar_initiative_basis"   readonly="true"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_ar_initiative_basis'   value='/w gm &{template:roll}{{color=brown}}{{text=AR Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[0@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_ar_initiative_mod"     value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_ar_initiative_mod'     value='/w gm &{template:roll}{{color=brown}}{{text=AR Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6@{cmd_use_edge_token}sacs>70cf<0 &cf<0 &{tracker}]]}}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_ar_initiative_wuerfel" value="0"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_ar_initiative_wuerfel' value='/w gm &{template:roll}{{color=brown}}{{text=AR Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[@{initiative_mod}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
					</div>	
				</div>
				<div class="row color-black">
					<div class="show-matrix">
						<div class="w40px">
							<input class="ini_active ini_active_vr_cold" type="radio" name="attr_ini_active" value="VRk"/>
							<span class="ini_active ini_active_vr_cold" title="VRk" ></span>
						</div>
						<input  class="buttoninput buttoninput-left"   type="text" name="attr_vr_cold_initiative_basis"   value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_vr_cold_initiative_basis'   value='/w gm &{template:roll}{{color=brown}}{{text=VR Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[0@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_vr_cold_initiative_mod"     value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_vr_cold_initiative_mod'     value='/w gm &{template:roll}{{color=brown}}{{text=VR Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6@{cmd_use_edge_token}sacs>70cf<0 &cf<0 &{tracker}]]}}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_vr_cold_initiative_wuerfel" value="0"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_vr_cold_initiative_wuerfel' value='/w gm &{template:roll}{{color=brown}}{{text=VR Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[@{initiative_mod}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
					</div>
				</div>
				<div class="row color-black">
					<div class="show-matrix">
						<div class="w40px">
							<input class="ini_active ini_active_vr_hot" type="radio" name="attr_ini_active" value="VRh"/>
							<span class="ini_active ini_active_vr_hot" title="VRh" ></span>
						</div>
						<input  class="buttoninput buttoninput-left"   type="text" name="attr_vr_hot_initiative_basis"   value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_vr_hot_initiative_basis'   value='/w gm &{template:roll}{{color=brown}}{{text=VR (heiß) Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[0@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_vr_hot_initiative_mod"     value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_vr_hot_initiative_mod'     value='/w gm &{template:roll}{{color=brown}}{{text=VR (heiß) Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6@{cmd_use_edge_token}sacs>70cf<0 &cf<0 &{tracker}]]}}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_vr_hot_initiative_wuerfel" value="0"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_vr_hot_initiative_wuerfel' value='/w gm &{template:roll}{{color=brown}}{{text=VR (heiß) Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[@{initiative_mod}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
					</div>
				</div>
				<div class="row color-blueviolet">
					<div class="is-mage">
						<div class="w40px">
							<input class="ini_active ini_active_astral" type="radio" name="attr_ini_active" value="Astral"/>
							<span class="ini_active ini_active_astral" title="Astr."></span>
						</div>
						<input  class="buttoninput buttoninput-left"   type="text" name="attr_astral_initiative_basis"   readonly="true"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_astral_initiative_basis'   value='/w gm &{template:roll}{{color=brown}}{{text=Astrale Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[0@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_astral_initiative_mod"     value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_astral_initiative_mod'     value='/w gm &{template:roll}{{color=brown}}{{text=Astrale Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+?{Mod|@{initiative_mod}}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6@{cmd_use_edge_token}sacs>70cf<0 &cf<0 &{tracker}]]}}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_astral_initiative_wuerfel" value="0"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_astral_initiative_wuerfel' value='/w gm &{template:roll}{{color=brown}}{{text=Astrale Initiative}}{{basis=[[@{rea}+@{int}]]}}{{mod=[[@{initiative_mod}@{cmd_injury_mod}]]}}{{total=[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}}}{{erfolge=[[[[@{rea}+@{int}+@{initiative_mod}@{cmd_injury_mod}]]+@{initiative_wuerfel}d6sacs>70cf<0 &{tracker}]]}}@{cmd_injury_text}'></button>
					</div>
				</div>
			</div><!--float-->
			
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w65px"></div>
					<div class="w145px center">Gehen/Laufen/Sprinten</div>				
				</div>
				<div class="row labels color-darkred">
					<div    class="w75px labels color-darkred">Bewegung</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_bewegung_gehen"    readonly="true"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_bewegung_gehen'    value='!shadowrun --character @{character_id} --action move-reset'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_bewegung_laufen"   readonly="true"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_bewegung_laufen'   value='!shadowrun --character @{character_id} --action run-reset'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_bewegung_sprinten" readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_bewegung_sprinten' value='!shadowrun --character @{character_id} --action sprint-reset'></button>
				</div>
				<div class="row labels color-darkred">
					<div    class="w75px labels color-darkred">Mult/Mod</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_bewegung_gehen_mult"   value="2.0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_bewegung_gehen_mult'   value='!shadowrun --character @{character_id} --action move ?{Distanz|0}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_bewegung_laufen_mult"  value="4.0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_bewegung_laufen_mult'  value='!shadowrun --character @{character_id} --action run ?{Distanz|0}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_bewegung_sprinten_mod" value="2"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_bewegung_sprinten_mod' value='!shadowrun --character @{character_id} --action sprint ?{Würfelpool|0}'></button>
				</div>
				
				<div class="row labels color-darkred">
					<div class="w65px"></div>
					<div class="w145px center">Heben/Tragen/Stemmen</div>				
				</div>
				<div class="row labels color-darkred">
					<div    class="w75px labels color-darkred">Tragkraft</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_tragkraft_heben"   readonly="true"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_tragkraft_heben'   value='!shadowrun --character @{character_id} --action heben-reset'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_tragkraft_tragen"  readonly="true"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_tragkraft_tragen'  value='!shadowrun --character @{character_id} --action tragen-reset'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_tragkraft_stemmen" readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_tragkraft_stemmen' value='!shadowrun --character @{character_id} --action stemmen-reset'></button>
				</div>
				<div class="row labels color-darkred">
					<div    class="w75px labels color-darkred">Mult</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_tragkraft_heben_mult"   value="15"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_tragkraft_heben_mult'   value='!shadowrun --character @{character_id} --action heben'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_tragkraft_tragen_mult"  value="10"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_tragkraft_tragen_mult'  value='!shadowrun --character @{character_id} --action tragen'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_tragkraft_stemmen_mult" value="5"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_tragkraft_stemmen_mult' value='!shadowrun --character @{character_id} --action stemmen'></button>
				</div>
				
				
				<div class="row labels color-darkblue">
					<div class="w75px"></div>
					<div class="w145px center">Basis/Mod/Total</div>				
				</div>
				<div class="row labels color-darkblue">
					<div    class="w75px labels color-darkblue">Selbstb.</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_selbstbeherrschung_basis" value="@{cha}+@{wil}" disabled="true"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_selbstbeherrschung_basis' value='/w gm &{template:roll}{{color=darkblue}}{{text=Selbstbeherrschung}}{{basis=@{selbstbeherrschung_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{selbstbeherrschung_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{selbstbeherrschung_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_selbstbeherrschung_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_selbstbeherrschung_mod'   value='/w gm &{template:roll}{{color=darkblue}}{{text=Selbstbeherrschung}}{{basis=@{selbstbeherrschung_basis}}}{{mod=[[?{Mod|@{selbstbeherrschung_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{selbstbeherrschung_basis}+?{Mod|@{selbstbeherrschung_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{selbstbeherrschung_basis}+?{Mod|@{selbstbeherrschung_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_selbstbeherrschung"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_selbstbeherrschung'       value="/w gm &{template:roll}{{color=darkblue}}{{text=Selbstbeherrschung}}{{basis=@{selbstbeherrschung_basis}}}{{mod=[[@{selbstbeherrschung_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{selbstbeherrschung}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{selbstbeherrschung_basis}+@{selbstbeherrschung_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}"></button>
				</div>
				<div class="row labels color-darkblue">
					<div    class="w75px labels color-darkblue">Erinnerung</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_erinnerung_basis" value="@{log}+@{wil}" disabled="true"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_erinnerung_basis' value='/w gm &{template:roll}{{color=darkblue}}{{text=Erinnerungsvermögen}}{{basis=@{erinnerung_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{erinnerung_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{erinnerung_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_erinnerung_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_erinnerung_mod'   value='/w gm &{template:roll}{{color=darkblue}}{{text=Erinnerungsvermögen}}{{basis=@{erinnerung_basis}}}{{mod=[[?{Mod|@{erinnerung_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{erinnerung_basis}+?{Mod|@{erinnerung_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{erinnerung_basis}+?{Mod|@{erinnerung_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_erinnerung"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_erinnerung'       value="/w gm &{template:roll}{{color=darkblue}}{{text=Erinnerungsvermögen}}{{basis=@{erinnerung_basis}}}{{mod=[[@{erinnerung_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{erinnerung}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{erinnerung_basis}+@{erinnerung_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}"></button>
				</div>
				<div class="row labels color-darkblue">
					<div    class="w75px labels color-darkblue">Menschenk.</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_menschenkenntnis_basis" value="@{cha}+@{int}" disabled="true"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_menschenkenntnis_basis' value='/w gm &{template:roll}{{color=darkblue}}{{text=Menschenkenntnis}}{{basis=@{menschenkenntnis_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{menschenkenntnis_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{menschenkenntnis_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_menschenkenntnis_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_menschenkenntnis_mod'   value='/w gm &{template:roll}{{color=darkblue}}{{text=Menschenkenntnis}}{{basis=@{menschenkenntnis_basis}}}{{mod=[[?{Mod|@{menschenkenntnis_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{menschenkenntnis_basis}+?{Mod|@{menschenkenntnis_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{menschenkenntnis_basis}+?{Mod|@{menschenkenntnis_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_menschenkenntnis"       readonly="true"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_menschenkenntnis'       value="/w gm &{template:roll}{{color=darkblue}}{{text=Menschenkenntnis}}{{basis=@{menschenkenntnis_basis}}}{{mod=[[@{menschenkenntnis_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{menschenkenntnis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{menschenkenntnis_basis}+@{menschenkenntnis_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5kh@{glimit}]]}}@{cmd_use_edge_text}@{cmd_injury_text}{{limit=@{glimit}}}"></button>
				</div>
				
				<!-- Essence -->
				<div class="row labels color-darkred">
					<div class="w75px"></div>
					<div class="w40px">Basis</div>
					<div class="w40px">-</div>
					<div class="w40px">Rest</div>
				</div>
				
				<div class="row labels color-blueviolet">
					<div    class="w75px">Essenz</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_ess_basis" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_ess_basis' value='/w gm &{template:roll}{{text=Essenz (Max)}}{{erfolge=@{ess_basis}}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_ess_mod"   readonly></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_ess_mod'   value='/w gm &{template:roll}{{text=-Essenz}}{{erfolge=@{ess_mod}}}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_ess"       readonly></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_ess'       value='/w gm &{template:roll}{{text=Essenz}}{{erfolge=[[round((@{ess_basis}-@{ess_mod})*100)/100]]}}}'></button>
				</div>
				
				<!-- Edgepoints -->
				<div class="row labels color-darkred">
					<div class="w75px"></div>
					<div class="w135px">Aktuell/Total</div>
				</div>
				
				<div class="row labels color-blueviolet">
					<div    class="w75px">Edgepunkte</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_edgepunkte_aktuell" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_edgepunkte_aktuell' value='!shadowrun --character @{character_id} --action edge-use'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_edgpunkte_max"      readonly ></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_edgepunkte_max'     value='!shadowrun --character @{character_id} --action edge-refill'></button>
				</div>
			</div><!--float-->
		</div><!--submenu: attributes-->
		
		<div class="tab tab-basis-qualities">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w230px">Vorteile</div>
				</div>
				<fieldset class="repeating_positivequalities">  
					<input  class="hidden" type="text" name="attr_positivequalities_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_positivequalities_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w240px left" type="text" name="attr_positivequalities_name"></input>				
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_positivequalities'   value="/w gm &{template:roll}{{color=purple}}{{text=@{positivequalities_name}}}{{desc=@{positivequalities_note}}}"></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_positivequalities_note" class="w95 h100px clear"></textarea>
						</div>
					</div>					
				</fieldset>
			</div><!--float-->
			
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w230px">Nachteile</div>
				</div>
				<fieldset class="repeating_negativequalities">  
					<input  class="hidden" type="text" name="attr_negativequalities_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_negativequalities_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-both w240px left" type="text" name="attr_negativequalities_name"></input>				
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_negativequalities'   value="/w gm &{template:roll}{{color=purple}}{{text=@{negativequalities_name}}}{{desc=@{negativequalities_note}}}"></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_negativequalities_note" class="w95 h100px clear"></textarea>
						</div>
					</div>					
				</fieldset>
			</div><!--float-->
		</div><!--submenu: qualities-->
		
		<div class="tab tab-basis-description w100">
			<textarea name="attr_description_full" class="w95 h300px clear"></textarea>
		</div><!--submenu: description-->
		
		<div class="tab tab-basis-advancement">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w50px">Datum</div>
					<div class="w30px">Karma</div>
					<div class="w270px center">Run</div>
				</div>
				<fieldset class="repeating_advancementkarma">  
					<input  class="hidden" type="text" name="attr_advancementkarma_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_advancementkarma_show_details"></input>
						<span  class="show-details color-darkred"></span>
					
						<input  class="buttoninput buttoninput-left w70px left" type="text" name="attr_advancementkarma_date"></input>				
						<input  class="buttoninput buttoninput-center w30px center" type="text" name="attr_advancementkarma_karma"></input>
						<input  class="buttoninput buttoninput-right w270px left" type="text" name="attr_advancementkarma_desc"></input>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_advancementkarma_note" class="w98 h100px clear"></textarea>
						</div>
					</div>					
				</fieldset>
			</div><!--float-->
			
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w50px">Datum</div>
					<div class="w30px">Nuyen</div>
					<div class="w270px center">Run</div>
				</div>
				<fieldset class="repeating_advancementnuyen">  
					<input  class="hidden" type="text" name="attr_advancementnuyen_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_advancementnuyen_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w70px left" type="text" name="attr_advancementnuyen_date"></input>				
						<input  class="buttoninput buttoninput-center w50px center" type="text" name="attr_advancementnuyen_nuyen"></input>
						<input  class="buttoninput buttoninput-right w270px left" type="text" name="attr_advancementnuyen_desc"></input>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_advancementnuyen_note" class="w98 h100px clear"></textarea>
						</div>
					</div>					
				</fieldset>
			</div><!--float-->
		</div><!--submenu: advancement-->		
		
		<div class="tab tab-basis-settings w100">		
			<div class="float card">				
				<div class="row labels color-darkred">
					<div class="w180px center">Magie</div>
				</div>
				<div class="row labels color-darkred">
					<div class="w160px">Ist Magier?</div>					
					<input  class="buttoninput buttoninput-both" type="checkbox" name="attr_settings_is_mage" checked="checked"></input>				
				</div>
				<div class="row labels color-darkred">
					<div class="w160px">Besitzt Spruchzauberei?</div>					
					<input  class="buttoninput buttoninput-both" type="checkbox" name="attr_settings_has_spellcasting" checked="checked"></input>				
				</div>
				<div class="row labels color-darkred">
					<div class="w160px">Besitzt Alchemie?</div>					
					<input  class="buttoninput buttoninput-both" type="checkbox" name="attr_settings_has_alchemy" checked="checked"></input>				
				</div>
				<div class="row labels color-darkred">
					<div class="w160px">Besitzt Beschwörung?</div>					
					<input  class="buttoninput buttoninput-both" type="checkbox" name="attr_settings_has_summoning" checked="checked"></input>				
				</div>
				<div class="row labels color-darkred">
					<div class="w160px">Besitzt Ritualmagie?</div>					
					<input  class="buttoninput buttoninput-both" type="checkbox" name="attr_settings_has_rituals" checked="checked"></input>				
				</div>
				<div class="row labels color-darkred">
					<div class="w160px">Besitzt Adeptenkräfte?</div>					
					<input  class="buttoninput buttoninput-both" type="checkbox" name="attr_settings_has_adeptpowers" checked="checked"></input>				
				</div>
			</div><!--float-->
			
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w180px center">Matrix</div>
				</div>
				<div class="row labels color-darkred">
					<div class="w160px">Zeige Matrixtab</div>					
					<input  class="buttoninput buttoninput-both" type="checkbox" name="attr_settings_show_matrix" checked="checked"></input>				
				</div>				
				<div class="row labels color-darkred">
					<div class="w160px">Ist Technomancer?</div>					
					<input  class="buttoninput buttoninput-both" type="checkbox" name="attr_settings_is_technomancer" checked="checked"></input>				
				</div>
			</div><!--float-->
		</div><!--submenu: description-->
	</div><!--attributes-->
	
	<!-- Tab Skills -->
	<div class="tab tab-skills">
		<div class="tab tab-skills-actionskills">
			<!--Action skills-->
			<div class="float card">
				<!-- Skills -->
				<div class="row labels color-darkred">
					<div class="w230px">Aktionsfertigkeiten</div>
					<div class="w80px center">Attribut</div>
					<div class="w50px center">Stufe</div>
					<div class="w40px center">Mod</div>
					<div class="w45px center">Total</div>
				</div>
				<fieldset class="repeating_skillsaction">  
					<input  class="hidden" type="text" name="attr_skillsaction_id" value=""></input>
					<div class="row color-darkred">					
						<input  class="show-details" type="checkbox" name="attr_skillsaction_show_details"></input>
						<span  class="show-details color-darkred"></span>		
						
						<input  class="buttoninput buttoninput-left w240px left" type="text" name="attr_skillsaction_name"></input>				
						<select name="attr_skillsaction_attribut" class="buttoninput buttoninput-center w60px">
						  <option value="@{kon}">KON</option>
						  <option value="@{ges}">GES</option>
						  <option value="@{rea}">REA</option>
						  <option value="@{str}">STR</option>
						  <option value="@{wil}">WIL</option>
						  <option value="@{log}">LOG</option>
						  <option value="@{int}">INT</option>
						  <option value="@{cha}">CHA</option>
						  <option value="@{mag}">MAG</option>
						  <option value="@{res}">RES</option>
						</select>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsaction_att_display" value="@{skillsaction_attribut}" disabled="true"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsaction_basis" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_skillsaction_basis' value='/w gm &{template:roll}{{text=@{skillsaction_name}}}{{color=darkred}}@{skillsaction_desc}{{basis=[[@{skillsaction_attribut}+@{skillsaction_basis}]]}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{skillsaction_attribut}+@{skillsaction_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{skillsaction_attribut}+@{skillsaction_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5@{skillsaction_limit_formatted}]]}}@{cmd_use_edge_text}@{cmd_injury_text}@{skillsaction_limit_text}"'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsaction_mod" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_skillsaction_mod' value='/w gm &{template:roll}{{text=@{skillsaction_name}}}{{color=darkred}}@{skillsaction_desc}{{basis=[[@{skillsaction_attribut}+@{skillsaction_basis}]]}}{{mod=[[?{Mod|@{skillsaction_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{skillsaction_attribut}+@{skillsaction_basis}+?{Mod|@{skillsaction_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{skillsaction_attribut}+@{skillsaction_basis}+?{Mod|@{skillsaction_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5@{skillsaction_limit_formatted}]]}}@{cmd_use_edge_text}@{cmd_injury_text}@{skillsaction_limit_text}"'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsaction" value="@{skillsaction_attribut}+@{skillsaction_basis}+@{skillsaction_mod}" disabled="true"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_skillsaction' value='/w gm &{template:roll}{{text=@{skillsaction_name}}}{{color=darkred}}@{skillsaction_desc}{{basis=[[@{skillsaction_attribut}+@{skillsaction_basis}]]}}{{mod=[[@{skillsaction_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{skillsaction_attribut}+@{skillsaction_basis}+@{skillsaction_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{skillsaction_attribut}+@{skillsaction_basis}+@{skillsaction_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5@{skillsaction_limit_formatted}]]}}@{cmd_use_edge_text}@{cmd_injury_text}@{skillsaction_limit_text}"'></button>
					
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_skillsaction_note" class="w97 h100px clear"></textarea>
							<div class="row labels color-darkred">
								<div class="w100px">Limit</div>																
								<div class="">Mod</div>
								<div class="">Total</div>
								<div class="">Inkl. Notiz</div>
							</div>
							
							<div class="row">
								<select name="attr_skillsaction_limit" class="buttoninput buttoninput-left w85px">
								  <option value="99">Keines</option>
								  <option value="@{klimit}">Körperlich</option>
								  <option value="@{glimit}">Geistig</option>
								  <option value="@{slimit}">Sozial</option>
								  <option value="@{alimit}">Astral</option>
								  <option value="0">Sonstiges</option>								  
								</select>
								<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsaction_limit_display" readonly></input>
								<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsaction_limit_mod" value="0"></input>
								<input  class="buttoninput buttoninput-right"  type="text" name="attr_skillsaction_limit_total" readonly></input>
								<input  class="buttoninput margin-left-25"  type="checkbox" name="attr_skillsaction_include_note" ></input>
								<input  class="hidden"  type="text" name="attr_skillsaction_limit_text" ></input>
								<input  class="hidden"  type="text" name="attr_skillsaction_limit_formatted"></input>
								<input  class="hidden"  type="text" name="attr_skillsaction_desc"></input>
							</div>
						</div>
					</div>
				</fieldset>
			</div><!--float-->
		</div><!--actionskills-->
		
		<div class="tab tab-skills-knowledgeskills">		
			<!--Knowledge skills-->
			<div class="float card">
				<!-- Skills -->
				<div class="row labels color-darkblue">
					<div class="w230px">Wissensfertigkeiten</div>
					<div class="w80px center">Attribut</div>
					<div class="w50px center">Basis</div>
					<div class="w40px center">Mod</div>
					<div class="w45px center">Total</div>
				</div>
				<fieldset class="repeating_skillsknowledge">  
					<input  class="hidden" type="text" name="attr_skillsknowledge_id" value=""></input>
					<div class="row color-darkblue">					
						<input  class="show-details" type="checkbox" name="attr_skillsknowledge_show_details"></input>
						<span  class="show-details color-darkblue"></span>
						
						<input  class="buttoninput buttoninput-left w240px left" type="text" name="attr_skillsknowledge_name"></input>				
						<select name="attr_skillsknowledge_attribut" class="buttoninput buttoninput-center w60px">						  
						  <option value="@{log}">LOG</option>
						  <option value="@{int}">INT</option>
						</select>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsknowledge_att_display" value="@{skillsknowledge_attribut}" disabled="true"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsknowledge_basis" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_skillsknowledge_basis' value='/w gm &{template:roll}{{text=@{skillsknowledge_name}}}{{color=darkblue}}@{skillsknowledge_desc}{{basis=[[@{skillsknowledge_attribut}+@{skillsknowledge_basis}]]}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{skillsknowledge_attribut}+@{skillsknowledge_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{skillsknowledge_attribut}+@{skillsknowledge_basis}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5@{skillsknowledge_limit_formatted}]]}}@{cmd_use_edge_text}@{cmd_injury_text}@{skillsknowledge_limit_text}"'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsknowledge_mod" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_skillsknowledge_mod' value='/w gm &{template:roll}{{text=@{skillsknowledge_name}}}{{color=darkblue}}@{skillsknowledge_desc}{{basis=[[@{skillsknowledge_attribut}+@{skillsknowledge_basis}]]}}{{mod=[[?{Mod|@{skillsknowledge_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{skillsknowledge_attribut}+@{skillsknowledge_basis}+?{Mod|@{skillsknowledge_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{skillsknowledge_attribut}+@{skillsknowledge_basis}+?{Mod|@{skillsknowledge_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5@{skillsknowledge_limit_formatted}]]}}@{cmd_use_edge_text}@{cmd_injury_text}@{skillsknowledge_limit_text}"'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsknowledge" value="@{skillsknowledge_attribut}+@{skillsknowledge_basis}+@{skillsknowledge_mod}" disabled="true"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_skillsknowledge' value='/w gm &{template:roll}{{text=@{skillsknowledge_name}}}{{color=darkblue}}@{skillsknowledge_desc}{{basis=[[@{skillsknowledge_attribut}+@{skillsknowledge_basis}]]}}{{mod=[[@{skillsknowledge_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{skillsknowledge_attribut}+@{skillsknowledge_basis}+@{skillsknowledge_mod}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{skillsknowledge_attribut}+@{skillsknowledge_basis}+@{skillsknowledge_mod}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5@{skillsknowledge_limit_formatted}]]}}@{cmd_use_edge_text}@{cmd_injury_text}@{skillsknowledge_limit_text}"'></button>
					
						<div class="details">
							<div class="labels color-darkblue w100">Notizen</div>
							<textarea name="attr_skillsknowledge_note" class="w97 h100px clear"></textarea>
							<div class="row labels color-darkblue">
								<div class="w100px">Limit</div>																
								<div class="">Mod</div>
								<div class="">Total</div>
								<div class="">Inkl. Notiz</div>
							</div>
							
							<div class="row">
								<select name="attr_skillsknowledge_limit" class="buttoninput buttoninput-left w85px">
								  <option value="99">Keines</option>
								  <option value="@{glimit}">Geistig</option>
								  <option value="0">Sonstiges</option>						  
								</select>
								<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsknowledge_limit_display" readonly></input>
								<input  class="buttoninput buttoninput-center" type="text" name="attr_skillsknowledge_limit_mod" value="0"></input>
								<input  class="buttoninput buttoninput-right"  type="text" name="attr_skillsknowledge_limit_total" readonly></input>
								<input  class="buttoninput margin-left-25"  type="checkbox" name="attr_skillsknowledge_include_note" ></input>
								<input  class="hidden"  type="text" name="attr_skillsknowledge_limit_text" ></input>
								<input  class="hidden"  type="text" name="attr_skillsknowledge_limit_formatted"></input>
								<input  class="hidden"  type="text" name="attr_skillsknowledge_desc"></input>
							</div>
						</div>
					</div>
				</fieldset>         
			</div><!--float-->
		</div><!--knowledgeskillsskills-->
	</div><!--skills-->
	
	<div class="tab tab-combat">
		<div class="float card">
			<!-- Physical Monitor -->
			<div class="row">
				<input  class="buttoninput buttoninput-left" type="text"   name="attr_zmp_aktuell"  value="0"></input>
				<button class="buttoninput buttoninput-center" type='roll' name='roll_zmp_aktuell'  value='!shadowrun --character @{character_id} --action physical-damage --value ?{Schaden|0} --resist ?{Widerstandspool|0}'></button>
				<input  class="buttoninput buttoninput-center" type="text" name="attr_zmp_maximum"  value="0"></input>
				<button class="buttoninput buttoninput-center" type='roll' name='roll_zmp_maximum'  value='!shadowrun --character @{character_id} --action physical-healing --pool ?{Heilungspool|0}'></button>		   
				<input  class="buttoninput buttoninput-center" type="text" name="attr_zmp_toleranz" value="3"></input>
				<button class="buttoninput buttoninput-right" type='roll'  name='roll_zmp_toleranz' value='!shadowrun --character @{character_id} --action physical-reset'></button>		   
			</div>
			<div class="sheet-row sheet-labels sheet-center sheet-color-darkred">Körperlich</div>
		</div><!--float-->
		
		<div class="float card">
			<!-- Mental Monitor -->
			<div class="row">
				<input  class="buttoninput buttoninput-left" type="text" name="attr_zmg_aktuell"    value="0"></input>
				<button class="buttoninput buttoninput-center" type='roll' name='roll_zmg_aktuell'  value='!shadowrun --character @{character_id} --action mental-damage --value ?{Schaden|0} --resist ?{Widerstandspool|0}'></button>
				<input  class="buttoninput buttoninput-center" type="text" name="attr_zmg_maximum"  value="0"></input>
				<button class="buttoninput buttoninput-center" type='roll' name='roll_zmg_maximum'  value='!shadowrun --character @{character_id} --action mental-healing --pool ?{Heilungspool|0}'></button>		   		   
				<input  class="buttoninput buttoninput-center" type="text" name="attr_zmg_toleranz" value="3"></input>
				<button class="buttoninput buttoninput-right" type='roll'  name='roll_zmg_toleranz' value='!shadowrun --character @{character_id} --action mental-reset'></button>		   
			</div>
			<div class="sheet-row sheet-labels sheet-center sheet-color-darkblue">Geistig</div>
		</div><!--float-->
		
		<div class="float card">
			<!-- Overflow Monitor -->
			<div class="row">
				<input  class="buttoninput buttoninput-left" type="text"   name="attr_overflow_aktuell"  value="0"></input>
				<button class="buttoninput buttoninput-center" type='roll' name='roll_overflow_aktuell'  value='!shadowrun --character @{character_id} --action overflow-damage --value ?{Schaden|0} --resist ?{Widerstandspool|0}'></button>
				<input  class="buttoninput buttoninput-center" type="text" name="attr_overflow_maximum"  value="0"></input>
				<button class="buttoninput buttoninput-center" type='roll' name='roll_overflow_maximum'  value='!shadowrun --character @{character_id} --action overflow-healing --pool ?{Heilungspool|0}'></button>
				<input  class="buttoninput buttoninput-center" type="text" name="attr_overflow_toleranz" value="3"></input>
				<button class="buttoninput buttoninput-right" type='roll'  name='roll_overflow_toleranz' value='!shadowrun --character @{character_id} --action overflow-reset'></button>		   
			</div>
			<div class="sheet-row sheet-labels sheet-center sheet-color-black">Überzählig</div>
		</div><!--float -->
		
		<div class="float card">
			<!-- Modifikator -->
			<div class="row">
				<input  class="buttoninput buttoninput-left" type="text"   name="attr_injury_mod" value="0"></input>
				<input  class="hidden" type="text" 						   name="attr_injury_mod_negative" value="0"></input>
				<button class="buttoninput buttoninput-center" type='roll' name='roll_injury_mod' value='!shadowrun --character @{character_id} --action injury-recalc'></button>
				<input  class="buttoninput buttoninput-center" type="text" name="attr_injury_ignore" value="0"></input>
				<button class="buttoninput buttoninput-right" type='roll'  name='roll_injury_ignore' value='!shadowrun --character @{character_id} --action injury-reset'></button>
			</div>
			<div class="sheet-row sheet-labels sheet-center sheet-color-darkgreen">Mod/Ign.</div>
		</div><!--float-->
		
		<div class="float card">
			<!-- Modifikator -->
			<div class="row">
				<input  class="buttoninput buttoninput-left" type="text"   name="attr_recoil" value="0"></input>
				<input  class="hidden" type="text" 						   name="attr_recoil_negative" value="0"></input>
				<button class="buttoninput buttoninput-right" type='roll'  name='roll_reset_recoil' value='!shadowrun --character @{character_id} --action recoil-reset'></button>
			</div>
			<div class="sheet-row sheet-labels sheet-center sheet-color-darkslategray">Rückstoß</div>
		</div><!--float-->
			
		<div class="clear"></div>
		
		<div class="float card wm810px">
			<div class="row labels color-darkred">
				<div class="w240px">Fernkampfwaffe</div>
				<div class="w60px center">Pool</div>
				<div class="w35px center">Tarn</div>
				<div class="w15px center">-0</div>
				<div class="w25px center">-1</div>
				<div class="w30px center">-3</div>
				<div class="w30px center">-6</div>
				<div class="w35px center">DV</div>
				<div class="w25px center">Präz</div>
				<div class="w20px center">DK</div>
				<div class="w30px center">RK</div>
				<div class="w70px center">Modus</div>
				<div class="w55px center">Munition</div>
				<div class="w55px center">Magazin</div>
			</div>
			<fieldset class="repeating_weaponsranged">
				<input  class="hidden" type="text" name="attr_weaponsranged_id" value=""></input>
			
				<div class="row">				
					<input  class="show-details" type="checkbox" name="attr_weaponsranged_show_details"></input>
					<span  class="show-details color-darkred"></span>
					
					<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_weaponsranged_name" value="0"></input>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_weaponsranged" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_weaponsranged' value='!shadowrun --character @{character_id} --action weaponsranged-attack --id @{weaponsranged_id} --mod ?{Modifikator|-@{recoil}@{cmd_injury_mod}} --bullets ?{Kugeln|1}'></button>
					<input  class="buttoninput buttoninput-both" type="text" name="attr_weaponsranged_tarn" value="0"></input>
					
					<input  class="buttoninput buttoninput-left" type="text" name="attr_weaponsranged_short" value="0"></input>				
					<input  class="buttoninput buttoninput-center" type="text" name="attr_weaponsranged_medium" value="0"></input>
					<input  class="buttoninput buttoninput-center w35px" type="text" name="attr_weaponsranged_long" value="0"></input>
					<input  class="buttoninput buttoninput-right w35px" type="text" name="attr_weaponsranged_extreme" value="0"></input>
					
					<input  class="buttoninput buttoninput-left w40px" type="text" name="attr_weaponsranged_dv" value="0"></input>				
					<input  class="buttoninput buttoninput-center" type="text" name="attr_weaponsranged_precision" value="0"></input>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_weaponsranged_dk" value="0"></input>
					<input  class="buttoninput buttoninput-right" type="text" name="attr_weaponsranged_rk" value="0"></input>
					
					<input  class="buttoninput buttoninput-left w75px" type="text" name="attr_weaponsranged_mod" value="0"></input>				
					<input  class="buttoninput buttoninput-center w30px" type="text" name="attr_weaponsranged_ammunition_current" value="0"></input>
					<input  class="buttoninput buttoninput-center w30px" type="text" name="attr_weaponsranged_ammunition_maximum" value="0"></input>
					<input  class="buttoninput buttoninput-center w65px" type="text" name="attr_weaponsranged_magazin" value="0"></input>
					<button class="buttoninput buttoninput-right rangeweapons-pool" type='roll' name='roll_weaponsranged_magazin' value='!shadowrun --character @{character_id} --action weaponsranged-reload --id @{weaponsranged_id}'></button>
					
					<div class="details">
						<div class="labels color-darkred w100">Notizen, Ausrüstung, etc</div>
						<textarea name="attr_weaponsranged_note" class="w98 h100px clear"></textarea>
					</div>
				</div>
			</fieldset><!--rangedweapons-->
		</div><!--float-->
		
		<div class="float card">
			<div class="row labels color-darkred">
				<div class="w240px">Nahkampfwaffe</div>
				<div class="w60px">Pool</div>
				<div class="w35px">Tarn</div>
				<div class="w20px center">R</div>
				<div class="w35px center">DV</div>
				<div class="w35px center">Präz.</div>
				<div class="w30px center">DK</div>			
			</div>
			<fieldset class="repeating_weaponsmelee">
				<input  class="hidden" type="text" name="attr_weaponsmelee_id" value=""></input>
				<div class="row">
					<input  class="show-details" type="checkbox" name="attr_weaponsmelee_show_details"></input>
					<span  class="show-details color-darkred"></span>
					
					<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_weaponsmelee_name" value="0"></input>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_weaponsmelee" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_weaponsmelee' value='/w gm &{template:meleeattack}{{text=schlägt zu mit @{weaponsmelee_name}}}{{basis=@{weaponsmelee}}}{{mod=[[?{Modifikator?|0}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{pool=[[@{weaponsmelee}+[[?{Modifikator?|0}@{cmd_use_edge_mod}@{cmd_injury_mod}]]]]}}{{erfolge=[[[[@{weaponsmelee}+[[?{Modifikator?|0}@{cmd_use_edge_mod}@{cmd_injury_mod}]]]]d6@{cmd_use_edge_token}sacs5cs6>5kh@{weaponsmelee_precision}]]}}{{schaden=@{weaponsmelee_dv}}}{{dk=@{weaponsmelee_dk}}}{{praezision=@{weaponsmelee_precision}}}{{reichweite=@{weaponsmelee_range}}}'></button>
					
					<input  class="buttoninput buttoninput-both" type="text" name="attr_weaponsmelee_tarn" value="0"></input>
					
					<input  class="buttoninput buttoninput-left" type="text" name="attr_weaponsmelee_range" value="0"></input>				
					<input  class="buttoninput buttoninput-center w45px" type="text" name="attr_weaponsmelee_dv" value="0"></input>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_weaponsmelee_precision" value="0"></input>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_weaponsmelee_dk" value="0"></input>
					<button class="buttoninput buttoninput-right rangeweapons-pool" type='roll' name='roll_weaponsmelee_dk' value='/w gm Noch nicht implementiert @{weaponsmelee_id}'></button>
					
					<div class="details">
						<div class="labels color-darkred w100">Notizen, Ausrüstung, etc</div>
						<textarea name="attr_weaponsmelee_note" class="w97 h100px clear"></textarea>
					</div>
				</div>
			</fieldset><!--meleeweapons-->
		</div>
		<div class="float card">
			<div class="row labels color-darkred">
				<div class="w155px">Würfelpool</div>
				<div class="w45px">Wert</div>
				<div class="w45px">Mod</div>
				<div class="w45px">Total</div>
			</div>
			<fieldset class="repeating_combatpools">
				<input  class="hidden" type="text" name="attr_combatpools_id" value=""></input>
				<div class="row">
					<input  class="show-details" type="checkbox" name="attr_combatpools_show_details"></input>
					<span  class="show-details color-darkred"></span>
					
					<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_combatpools_name" value="0"></input>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_combatpools_basis" value="0"></input>				
					<button class="buttoninput buttoninput-center" type='roll' name='roll_combatpools_basis' value='/w gm &{template:roll}{{color=forestgreen}}{{text=@{combatpools_name}}}{{basis=@{combatpools_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{combatpools_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{combatpools_basis}+0@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_combatpools_mod" value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_combatpools_mod' value='/w gm &{template:roll}{{color=forestgreen}}{{text=@{combatpools_name}}}{{basis=@{combatpools_basis}}}{{mod=[[?{Modifikator|@{combatpools_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{combatpools_basis}+?{Modifikator|@{combatpools_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{combatpools_basis}+?{Modifikator|@{combatpools_mod}}@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_combatpools" value="@{combatpools_basis}+@{combatpools_mod}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_combatpools' value='/w gm &{template:roll}{{color=forestgreen}}{{text=@{combatpools_name}}}{{basis=@{combatpools_basis}}}{{mod=[[0@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{total=[[@{combatpools_basis}@{cmd_use_edge_mod}@{cmd_injury_mod}]]}}{{erfolge=[[(@{combatpools_basis}+0@{cmd_use_edge_mod}@{cmd_injury_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}@{cmd_injury_text}'></button>
					
					<div class="details">
						<div class="labels color-darkred w100">Notizen, Ausrüstung, etc</div>
						<textarea name="attr_combatpools_note" class="w96 h100px clear"></textarea>
					</div>
				</div>
			</fieldset><!--pools, dodge, etc-->
		</div>
		
		<div class="float card">
			<div class="row labels color-darkred">
				<div class="w240px">Panzerung</div>
				<div class="w45px">Wert</div>
				<div class="w45px">Mod</div>
				<div class="w45px">Total</div>
				<div class="w45px">Pool</div>
			</div>
			<fieldset class="repeating_armor">
				<input  class="hidden" type="text" name="attr_armor_id" value=""></input>
				<div class="row">
					<input  class="show-details" type="checkbox" name="attr_armor_show_details"></input>
					<span  class="show-details color-darkred"></span>
					
					<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_armor_name" value="0"></input>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_armor_basis" value="0"></input>				
					<button class="buttoninput buttoninput-center" type='roll' name='roll_armor_basis' value='/w gm &{template:roll}{{color=darkgoldenrod}}{{text=@{armor_name}}}{{basis=@{armor_basis}}}{{mod=[[0@{cmd_use_edge_mod}]]}}{{total=[[@{armor_basis}@{cmd_use_edge_mod}]]}}{{erfolge=[[(@{armor_basis}+0@{cmd_use_edge_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_armor_mod"   value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_armor_mod'   value='/w gm &{template:roll}{{color=darkgoldenrod}}{{text=@{armor_name}}}{{basis=@{armor_basis}}}{{mod=[[?{Modifikator|@{armor_mod}}@{cmd_use_edge_mod}]]}}{{total=[[@{armor_basis}+?{Modifikator|@{armor_mod}}@{cmd_use_edge_mod}]]}}{{erfolge=[[(@{armor_basis}+?{Modifikator|@{armor_mod}}@{cmd_use_edge_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_armor"       value="@{armor_basis}+@{armor_mod}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_armor'       value='/w gm &{template:roll}{{color=darkgoldenrod}}{{text=@{armor_name}}}{{basis=@{armor_basis}}}{{mod=[[@{armor_mod}@{cmd_use_edge_mod}]]}}{{total=[[@{armor_basis}+@{armor_mod}@{cmd_use_edge_mod}]]}}{{erfolge=[[(@{armor_basis}+@{armor_mod}@{cmd_use_edge_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_armor_pool"  value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll'  name='roll_armor_pool'  value='/w gm &{template:roll}{{color=darkgoldenrod}}{{text=@{armor_name}}}{{basis=@{armor_pool}}}{{mod=[[?{Modifikator|0}@{cmd_use_edge_mod}]]}}{{total=[[@{armor_pool}+?{Modifikator|0}@{cmd_use_edge_mod}]]}}{{erfolge=[[(@{armor_pool}+?{Modifikator|0}@{cmd_use_edge_mod})d6@{cmd_use_edge_token}sacs5cs6>5]]}}@{cmd_use_edge_text}'></button>
					
					<div class="details">
						<div class="labels color-darkred w100">Notizen, Ausrüstung, etc</div>
						<textarea name="attr_armor_note" class="w96 h100px clear"></textarea>
					</div>
				</div>
			</fieldset><!--meleeweapons-->
		</div>
	</div><!--combat-->
	
	<div class="tab tab-matrix">
		<div class="tab tab-matrix-matrixequipment">			
			<fieldset class="repeating_cyberdecks">
				<input  class="hidden" type="text" name="attr_cyberdecks_id" value=""></input>
				<div class="float card">
					<div class="row labels color-darkred">
						<div class="w135px">Cyberdeck</div>
						<div class="w80px">Gerätestufe</div>
						<div class="w45px">A</div>
						<div class="w45px">S</div>
						<div class="w45px">D</div>
						<div class="w45px">F</div>					
					</div>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_cyberdecks_show_details"></input>
						<span  class="show-details color-darkred"></span>
				
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_cyberdecks_name" value="0"></input>					
						<input  class="buttoninput buttoninput-center" type="text" name="attr_cyberdecks_rating" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_cyberdecks_rating' value='/w gm Noch nicht implementiert @{cyberdecks_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_cyberdecks_a"      value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_cyberdecks_a'      value='/w gm Noch nicht implementiert @{cyberdecks_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_cyberdecks_s"      value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_cyberdecks_s'      value='/w gm Noch nicht implementiert @{cyberdecks_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_cyberdecks_d"      value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_cyberdecks_d'      value='/w gm Noch nicht implementiert @{cyberdecks_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_cyberdecks_f"      value="0"></input>
						<button class="buttoninput buttoninput-right" type='roll'  name='roll_cyberdecks_f'      value='/w gm Noch nicht implementiert @{cyberdecks_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_cyberdecks_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</div><!--float-->
			</fieldset><!--cyberdecks-->
			
			<div class="clear"></div>
			
			<fieldset class="repeating_riggerconsoles">				
				<input  class="hidden" type="text" name="attr_riggerconsoles_id" value=""></input>
				<div class="float card">
					<div class="row labels color-darkred">
						<div class="w120px">Riggerkonsole</div>
						<div class="w80px">Gerätestufe</div>					
						<div class="w45px">D</div>
						<div class="w45px">F</div>					
					</div>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_riggerconsoles_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_riggerconsoles_name" value="0"></input>					
						<input  class="buttoninput buttoninput-center" type="text" name="attr_riggerconsoles_rating" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_riggerconsoles_rating' value='/w gm Noch nicht implementiert @{riggerconsoles_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_riggerconsoles_d"      value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_riggerconsoles_d'      value='/w gm Noch nicht implementiert @{riggerconsoles_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_riggerconsoles_f"      value="0"></input>
						<button class="buttoninput buttoninput-right" type='roll'  name='roll_riggerconsoles_f'      value='/w gm Noch nicht implementiert @{riggerconsoles_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_riggerconsoles_note" class="w96 h100px clear"></textarea>
						</div>
					</div>		
				</div><!--float-->
			</fieldset><!--riggerconsoles-->
		</div><!--submenu:matrixequipment-->
		
		<div class="tab tab-matrix-programs">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w240px">Programm</div>
					<div class="w45px">Notiz</div>
				</div>
				<fieldset class="repeating_matrixprograms">
					<input  class="hidden" type="text" name="attr_matrixprograms_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_matrixprograms_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_matrixprograms_name" value="0"></input>
						<input  class="buttoninput buttoninput-center w250px left" type="text" name="attr_matrixprograms_desc" value="0"></input>						
						<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixprograms' value='/w gm Noch nicht implementiert @{matrixprograms_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_matrixprograms_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--meleeweapons-->
			</div><!--float card-->
		</div><!--submenu:programs-->
		
		<div class="tab tab-matrix-matrixactions">
		
			<!-- Matrixcombat -->
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w160px">Matrixkampf</div>
					<div class="">Limit</div>
					<div class="">Handlung</div>
					<div class="">Marken</div>
				</div>
				<div class="row">				
					<div class="w165px">Datenspike</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_matrixcombat_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_matrixcombat_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_matrixcombat_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_matrixcombat' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Programm abstürzen lassen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_crashprogram_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_crashprogram_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_crashprogram_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_crashprogram' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Volle Matrixabwehr</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_fulldefense_limit" value="0"></input>
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_fulldefense_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_fulldefense_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_fulldefense' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Schadenswiderstand</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_damageresistance_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_damageresistance_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_damageresistance_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_damageresistance' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Biofeedback widerstehen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_biofeedbackresistance_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_biofeedbackresistance_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_biofeedbackresistance_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_biofeedbackresistance' value='/w gm Noch nicht implementiert'></button>
				</div>		
			</div><!--float-->
		
			<!-- Manipulation of Devices -->
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w160px">Manipulation von Geräten</div>
					<div class="">Limit</div>
					<div class="">Handlung</div>
					<div class="">Marken</div>
				</div>
				<div class="row">				
					<div class="w165px">Befehl vortäuschen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_spoofcommand_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_spoofcommand_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_spoofcommand_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_zmg_aktuell' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Gerät formatieren</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_formatdevice_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_formatdevice_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_formatdevice_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_formatdevice' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Gerät neustarten</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_restartdevice_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_restartdevice_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_restartdevice_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_restartdevice' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Gerät steuern</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_controldevice_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_controldevice_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_controldevice_command" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_zmg_aktuell' value='/w gm Noch nicht implementiert'></button>
				</div>				
				<div class="row">				
					<div class="w165px">Unerwarteter Fehler</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_unexpectederror_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_unexpectederror_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_unexpectederror_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_unexpectederror' value='/w gm Noch nicht implementiert'></button>
				</div>				
			</div><!--float-->
			
			<!-- Manipulation of Dateien -->
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w160px">Manipulation von Dateien</div>
					<div class="">Limit</div>
					<div class="">Handlung</div>
					<div class="">Marken</div>
				</div>
				<div class="row">				
					<div class="w165px">Datei cracken</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_decryptfile_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_decryptfile_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_decryptfile_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_decryptfile' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Datei editieren</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_editfile_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_editfile_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_editfile_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_editfile' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Datenbombe entschärfen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_defusedatabomb_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_defusedatabomb_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_defusedatabomb_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_defusedatabomb' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Datenbombe legen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_placedatabomb_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_placedatabomb_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_placedatabomb_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_placedatabomb' value='/w gm Noch nicht implementiert'></button>
				</div>				
			</div><!--float-->
			
			<!-- Manipulation of Marks -->
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w160px">Manipulation von Marken</div>
					<div class="">Limit</div>
					<div class="">Handlung</div>
					<div class="">Marken</div>
				</div>
				<div class="row">				
					<div class="w165px">Brute Force</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_brutforce_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_brutforce_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_brutforce_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_brutforce' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Eiliges Hacken</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_hackonthefly_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_hackonthefly_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_hackonthefly_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_hackonthefly' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Marke einladen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_invitemark_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_invitemark_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_invitemark_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_invitemark' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Marke löschen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_deletemark_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_deletemark_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_deletemark_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_deletemark' value='/w gm Noch nicht implementiert'></button>
				</div>				
			</div><!--float
						
			<!-- Gather information -->
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w160px">Information sammeln</div>
					<div class="">Limit</div>
					<div class="">Handlung</div>
					<div class="">Marken</div>
				</div>
				<div class="row">				
					<div class="w165px">Icon aufspüren</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_traceicon_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_traceicon_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_traceicon_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_traceicon' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Rückverfolgung</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_traceback_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_traceback_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_traceback_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_traceback' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Matrixsuche</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_matrixsearch_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_matrixsearch_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_matrixsearch_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_matrixsearch' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Matrixwahrnehmung</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_matrixperception_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_matrixperception_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_matrixperception_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_matrixperception' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">OW bestimmen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_getow_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_getow_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_getow_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_getow' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Übertragung abfangen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_interceptmessage_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_interceptmessage_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_interceptmessage_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_interceptmessage' value='/w gm Noch nicht implementiert'></button>
				</div>		
			</div><!--float-->
						
			<!-- Other Actions -->
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w160px">Sonstige</div>
					<div class="">Limit</div>
					<div class="">Handlung</div>
					<div class="">Marken</div>
				</div>
				<div class="row">				
					<div class="w165px">Ausstöpseln</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_jackout_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_jackout_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_jackout_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_jackout' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Gitterwechsel</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_changegrid_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_changegrid_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_changegrid_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_changegrid' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Host betreten/verlassen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_enterhost_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_enterhost_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_enterhost_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_enterhost' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">Icon verändern</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_changeicon_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_changeicon_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_changeicon_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_changeicon' value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">				
					<div class="w165px">In Gerät springen</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_jumpintodevice_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_jumpintodevice_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_jumpintodevice_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_jumpintodevice' value='/w gm Noch nicht implementiert'></button>
				</div>		
				<div class="row">				
					<div class="w165px">Interfacemodus ändern</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_changeinterfacemode_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_changeinterfacemode_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_changeinterfacemode_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_changeinterfacemode' value='/w gm Noch nicht implementiert'></button>
				</div>		
				<div class="row">				
					<div class="w165px">Nachricht senden</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_sendmessage_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_sendmessage_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_sendmessage_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_sendmessage' value='/w gm Noch nicht implementiert'></button>
				</div>		
				<div class="row">				
					<div class="w165px">Signal stören</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_jamsignal_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_jamsignal_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_jamsignal_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_jamsignal' value='/w gm Noch nicht implementiert'></button>
				</div>		
				<div class="row">				
					<div class="w165px">Verstecken</div>																	
					<input  class="buttoninput buttoninput-left w40px center" type="text" name="attr_matrixactions_hide_limit" value="0"></input>										
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_hide_action" value="0"></input>									
					<input  class="buttoninput buttoninput-center w40px" type="text" name="attr_matrixactions_hide_marks" value="0"></input>
					<button class="buttoninput buttoninput-right" type='roll' name='roll_matrixactions_hide' value='/w gm Noch nicht implementiert'></button>
				</div>		
			</div><!--float-->
		</div><!--submenu:matrixactions-->
	</div><!--matrix-->
	
	<div class="tab tab-technomancer">
		<div class="tab tab-technomancer-livingpersona">
			<div class="float card">
				<!-- Attributes -->
				<div class="row labels color-darkred">
					<div class="w120px"></div>
					<div class="w145px center">Basis/Mod/Total</div>
				</div>

				<div class="row">
					<div class="w120px labels color-darkred">Gerätestufe</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_livingpersona_devicerating_basis" value="@{res}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_devicerating_basis' value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_devicerating_mod"   value="0"></input>						
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_devicerating_mod'   value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_devicerating"       value="@{livingpersona_devicerating_basis}+@{livingpersona_devicerating_mod}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_livingpersona_devicerating'       value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">
					<div class="w120px labels color-darkred">Angriff</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_livingpersona_attack_basis" value="@{cha}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_attack_basis' value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_attack_mod"   value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_attack_mod'   value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_attack"       value="@{livingpersona_attack_basis}+@{livingpersona_attack_mod}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_livingpersona_attack'       value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">
					<div class="w120px labels color-darkred">Schleicher</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_livingpersona_sleaze_basis" value="@{int}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_sleaze_basis' value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_sleaze_mod"   value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_sleaze_mod'   value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_sleaze"       value="@{livingpersona_sleaze_basis}+@{livingpersona_sleaze_mod}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_livingpersona_sleaze'       value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">
					<div class="w120px labels color-darkred">Datenverarbeitung</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_livingpersona_dataprocessing_basis" value="@{log}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_dataprocessing_basis' value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_dataprocessing_mod"   value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_dataprocessing_mod'   value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_dataprocessing"       value="@{livingpersona_dataprocessing_basis}+@{livingpersona_dataprocessing_mod}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_livingpersona_dataprocessing'       value='/w gm Noch nicht implementiert'></button>
				</div>
				<div class="row">
					<div class="w120px labels color-darkred">Firewall</div>
					<input  class="buttoninput buttoninput-left"   type="text" name="attr_livingpersona_firewall_basis" value="@{wil}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_firewall_basis' value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_firewall_mod"   value="0"></input>
					<button class="buttoninput buttoninput-center" type='roll' name='roll_livingpersona_firewall_mod'   value='/w gm Noch nicht implementiert'></button>
					<input  class="buttoninput buttoninput-center" type="text" name="attr_livingpersona_firewall"       value="@{livingpersona_firewall_basis}+@{livingpersona_firewall_mod}" disabled="disabled"></input>
					<button class="buttoninput buttoninput-right"  type='roll' name='roll_livingpersona_firewall'       value='/w gm Noch nicht implementiert'></button>
				</div>
			</div><!--float-->
		</div><!--submenu:livingpersona-->
		
		<div class="tab tab-technomancer-complexforms">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Komplexe Form</div>
					<div class="w45px">Wert</div>
					<div class="w45px">Mod</div>
					<div class="w45px">Total</div>
				</div>
				<fieldset class="repeating_complexforms">
					<input  class="hidden" type="text" name="attr_complexforms_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_complexforms_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_complexforms_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_complexforms_basis" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_complexforms_basis' value='!shadowrun --character @{character_id} --action complexforms-use --id @{complexforms_id} --name "@{complexforms_name}" --basis @{complexforms_basis} --mod 0 --force ?{Stufe?|1}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_complexforms_mod" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_complexforms_mod' value='!shadowrun --character @{character_id} --action complexforms-use --id @{complexforms_id} --name "@{complexforms_name}" --basis @{complexforms_basis} --mod ?{Modifikator?|@{complexforms_mod}} --force ?{Stufe?|1}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_complexforms" value="@{complexforms_basis}+@{complexforms_mod}" disabled="disabled"></input>
						<button class="buttoninput buttoninput-right"  type='roll' name='roll_complexforms' value='!shadowrun --character @{character_id} --action complexforms-use --id @{complexforms_id} --name "@{complexforms_name}" --basis @{complexforms_basis} --mod @{complexforms_mod} --force ?{Stufe?|1}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_complexforms_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--pools, dodge, etc-->
			</div><!--float-->
		</div><!--submenu:complexforms-->
	
	<div class="tab tab-technomancer-sprites">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w155px">Sprite</div>
					<div class="w45px">Pool</div>
					<div class="w45px">Mod</div>
					<div class="w45px">Total</div>
				</div>
				<fieldset class="repeating_compilesprite">
					<input  class="hidden" type="text" name="attr_compilesprite_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_compilesprite_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_compilesprite_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_compilesprite_basis" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_compilesprite_basis' value='!summon Sprites-@{compilesprite_name} T
!shadowrun --character @{character_id} --action compile-sprite --sprite-name @{compilesprite_name} --basis @{compilesprite_basis} --mod 0 --force ?{Kraftstufe?|1}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_compilesprite_mod" value="0"></input>
						<button class="buttoninput buttoninput-center" type='roll' name='roll_compilesprite_mod' value='!summon Sprites-@{compilesprite_name} T
!shadowrun --character @{character_id} --action compile-sprite --sprite-name @{compilesprite_name} --basis @{compilesprite_basis} --mod ?{Modifikator?|@{compilesprite_mod}} --force ?{Kraftstufe?|1}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_compilesprite" value="@{compilesprite_basis}+@{compilesprite_mod}" disabled="disabled"></input>
						<button class="buttoninput buttoninput-right" type='roll'  name='roll_compilesprite' value='!summon Sprites-@{compilesprite_name} T
!shadowrun --character @{character_id} --action compile-sprite --sprite-name @{compilesprite_name} --basis @{compilesprite_basis} --mod @{compilesprite_mod} --force ?{Kraftstufe?|1}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_compilesprite_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--pools, dodge, etc-->
			</div><!--float-->
						
			<fieldset class="repeating_activesprites">
				<input  class="hidden" type="text" name="attr_activesprites_id" value=""></input>
				<div class="float card">
					<div class="row labels color-darkred">
						<div class="w155px">Aktive Sprites</div>
						<div class="w45px">Stufe</div>
						<div class="w45px">Dienste</div>
					</div>
					
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_activesprites_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w155px left" type="text" name="attr_activesprites_name" value="0"></input>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_activesprites_stufe"   value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_activesprites_stufe'   value='/w gm Noch nicht implementiert @{activesprites_id}'></button>
						<input  class="buttoninput buttoninput-center" type="text" name="attr_activesprites_dienste" value="0"></input>				
						<button class="buttoninput buttoninput-center" type='roll' name='roll_activesprites_dienste' value='/w gm Noch nicht implementiert @{activesprites_id}'></button>
						
						<div class="details">
							<div class="row labels color-darkblue">
								<div class="w45px">A</div>
								<div class="w45px">S</div>
								<div class="w45px">D</div>
								<div class="w45px">F</div>
							</div>
							<div class="row labels color-darkblue">
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activesprites_attack" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activesprites_attack' value='/w gm Noch nicht implementiert @{activesprites_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activesprites_sleaze" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activesprites_sleaze' value='/w gm Noch nicht implementiert @{activesprites_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activesprites_dataprocessing" value="0"></input>
								<button class="buttoninput buttoninput-center" type='roll' name='roll_activesprites_dataprocessing' value='/w gm Noch nicht implementiert @{activesprites_id}'></button>
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activesprites_firewall" value="0"></input>
								<button class="buttoninput buttoninput-right" type='roll'  name='roll_activesprites_firewall' value='/w gm Noch nicht implementiert @{activesprites_id}'></button>
							</div>
							<div class="row labels color-blueviolet">
								<div class="w45px">RES</div>
							</div>
							<div class="row labels color-blueviolet">
								<input  class="buttoninput buttoninput-left"   type="text" name="attr_activesprites_res" value="0"></input>
								<button class="buttoninput buttoninput-right"  type='roll' name='roll_activesprites_res' value='/w gm Noch nicht implementiert @{activesprites_id}'></button>
							</div>				
							
							<div class="row labels color-darkred">
								<div class="w45px">Fertigkeiten</div>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_1_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_1_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_1' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_1_name}}}{{basis=@{activesprites_skill_1_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_1_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_1_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_2_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_2_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_2' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_2_name}}}{{basis=@{activesprites_skill_2_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_2_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_2_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_3_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_3_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_3' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_3_name}}}{{basis=@{activesprites_skill_3_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_3_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_3_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_4_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_4_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_4' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_4_name}}}{{basis=@{activesprites_skill_4_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_4_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_4_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_5_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_5_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_5' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_5_name}}}{{basis=@{activesprites_skill_5_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_5_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_5_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_6_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_6_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_6' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_6_name}}}{{basis=@{activesprites_skill_6_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_6_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_6_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_7_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_7_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_7' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_7_name}}}{{basis=@{activesprites_skill_7_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_7_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_7_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_8_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_8_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_8' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_8_name}}}{{basis=@{activesprites_skill_8_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_8_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_8_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_9_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_9_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_9' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_9_name}}}{{basis=@{activesprites_skill_9_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_9_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_9_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_skill_10_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_skill_10_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_skill_100' value='/w gm &{template:roll}{{text=@{activesprites_name} benutzt @{activesprites_skill_10_name}}}{{basis=@{activesprites_skill_10_pool}}}{{mod=?{Modifikator?|0}}}{{pool=[[@{activesprites_skill_10_pool}+?{Modifikator?|0}]]}}{{erfolge=[[[[@{activesprites_skill_10_pool}+?{Modifikator?|0}]]d6sacs5cs6>5]]}}'></button>
							</div>
							
							<div class="row labels color-darkred">
								<div class="w45px">Spritekräfte</div>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_1_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_1_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_1' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_1_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_2_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_2_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_2' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_2_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_3_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_3_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_3' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_3_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_4_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_4_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_4' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_4_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_5_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_5_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_5' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_5_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_6_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_6_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_6' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_6_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_7_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_7_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_7' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_7_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_8_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_8_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_8' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_8_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_9_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_9_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_9' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_9_name}|Beschreibung}}}'></button>
							</div>
							<div class="row labels color-darkred">
								<input  class="buttoninput buttoninput-left left w150px"     type="text" name="attr_activesprites_power_10_name" value="0"></input>
								<input  class="buttoninput buttoninput-center"   type="text" name="attr_activesprites_power_10_pool" value="0"></input>
								<button class="buttoninput buttoninput-right"    type='roll' name='roll_activesprites_power_10' value='/w gm &{template:kraft}{{text=@{activesprites_name} benutzt }}{{beschreibung=%{Spritekräfte-@{activesprites_power_10_name}|Beschreibung}}}'></button>
							</div>
												
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_activesprites_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</div><!--float-->
			</fieldset><!--pools, dodge, etc-->			
		</div><!--submenu:sprites-->	
	</div><!--technomancer-->

	<div class="tab tab-social">
		<div class="tab tab-social-sinlicense">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w255px">SIN</div>
					<div class="w45px">Stufe</div>
				</div>
				<fieldset class="repeating_sins">						
					<input  class="hidden" type="text" name="attr_sins_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_sin_show_details"></input>
						<span  class="show-details color-darkred"></span>
					
						<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_sin_name" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_sin_level" value="0"></input>						
						<button class="buttoninput buttoninput-right" type='roll' name='roll_sin' value='/w gm Noch nicht implementiert @{sins_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_sin_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--SIN-->
			</div><!--float card-->
			
			<div class="float card">			
				<div class="row labels color-darkred">
					<div class="w255px">SIN</div>
					<div class="w240px">Lizenz</div>
					<div class="w45px">Stufe</div>
				</div>					
				<fieldset class="repeating_licenses">
					<input  class="hidden" type="text" name="attr_licenses_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_license_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left w250px left" type="text"   name="attr_license_sin_name" value="0"></input>
						<input  class="buttoninput buttoninput-center w250px left" type="text" name="attr_license_name" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text"      name="attr_license_rating" value="0"></input>						
						<button class="buttoninput buttoninput-right" type='roll'              name='roll_license' value='/w gm Noch nicht implementiert @{licenses_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_license_note" class="w95 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--licenses-->
			</div><!--float card-->
		</div><!--submenu:sinlicense-->
		
		<div class="tab tab-social-lifestyles">
			<fieldset class="repeating_lifestyles">						
				<input  class="hidden" type="text" name="attr_lifestyles_id" value=""></input>
				<div class="float card">
					<div class="row labels color-darkred">
						<div class="w80px">SIN</div>
						<input  class="buttoninput buttoninput-both w250px left" type="text" name="attr_lifestyles_sin_name" value="0"></input>
					</div>
					<div class="row labels color-darkred">
						<div class="w80px">Lebensstil</div>
						<input  class="buttoninput buttoninput-both w250px left" type="text" name="attr_lifestyles_rating" value="0"></input>
					</div>
					<div class="row labels color-darkred">
						<div class="w80px">Miete</div>
						<input  class="buttoninput buttoninput-both w250px left" type="text" name="attr_lifestyles_cost" value="0"></input>
					</div>
					<div class="row labels color-darkred">
						<div class="margin-left-5">K&amp;G</div>
						<div class="w20px center">S</div>
						<div class="w20px center">W</div>
						<div class="w20px center">A</div>
					</div>
					<div class="row labels color-darkred">
						<input  class="show-details" type="checkbox" name="attr_lifestyles_show_details"></input>
						<span  class="show-details color-darkred"></span>
						
						<input  class="buttoninput buttoninput-left center" type="text" name="attr_lifestyles_comfort" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_lifestyles_security" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_lifestyles_neighbourhood" value="0"></input>
						<input  class="buttoninput buttoninput-right center" type="text" name="attr_lifestyles_accomodities" value="0"></input>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_lifestyles_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</div><!--float card-->
			</fieldset><!--lifestyles-->
		</div><!--submenu:lifestyles-->
		
		<div class="tab tab-social-connections">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w260px">Name</div>
					<div class="w25px">E</div>
					<div class="">L</div>
				</div>
				<fieldset class="repeating_connections">						
					<input  class="hidden" type="text" name="attr_connections_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_connections_show_details"></input>
						<span  class="show-details color-darkred"></span>
					
						<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_connections_name" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_connections_rating" value="0"></input>						
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_connections_loyality" value="0"></input>	
						<button class="buttoninput buttoninput-right" type='roll' name='roll_connections' value='!shadowrun --character @{character_id} --action contact-connection --id @{connections_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_connections_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--SIN-->
			</div><!--float card-->
		</div><!--submenu:connections-->
	</div><!--social-->

	<div class="tab tab-equipment">
		<div class="tab tab-equipment-equipment">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w260px">Gegenstand</div>
					<div class="w25px">Anzahl</div>
				</div>
				<fieldset class="repeating_equipment">						
					<input  class="hidden" type="text" name="attr_equipment_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_equipment_show_details"></input>
						<span  class="show-details color-darkred"></span>
					
						<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_equipment_name" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_equipment_count" value="0"></input>						
						<button class="buttoninput buttoninput-right" type='roll' name='roll_equipment' value='/w gm Noch nicht implementiert @{equipment_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_equipment_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--equipment-->
			</div><!--float card-->
		</div><!--submenu:equipment-->
		
		<div class="tab tab-equipment-augmentations">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w240px">Augmentierung</div>
					<div class="w35px">Stufe</div>
					<div class="">Kat.</div>
					<div class="">Essenz</div>
				</div>
				<fieldset class="repeating_augmentations">						
					<input  class="hidden" type="text" name="attr_augmentations_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_augmentations_show_details"></input>
						<span  class="show-details color-darkred"></span>
					
						<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_augmentations_name" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_augmentations_rating" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_augmentations_category" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_augmentations_essence" value="0"></input>
						<button class="buttoninput buttoninput-right" type='roll' name='roll_augmentations' value='/w gm Noch nicht implementiert @{augmentations_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_augmentations_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--equipment-->
			</div><!--float card-->
		</div><!--submenu:augmentations-->
		
		<div class="tab tab-equipment-ammunition">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w260px">Munition</div>
					<div class="">Anzahl</div>
				</div>
				<fieldset class="repeating_ammunition">						
					<input  class="hidden" type="text" name="attr_ammunition_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_ammunition_show_details"></input>
						<span  class="show-details color-darkred"></span>
					
						<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_ammunition_name" value="0"></input>
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_ammunition_count" value="0"></input>						
						<button class="buttoninput buttoninput-right" type='roll' name='roll_ammunition' value='/w gm Noch nicht implementiert @{ammunition_id}'></button>
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_ammunition_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--equipment-->
			</div><!--float card-->
		</div><!--submenu:ammunition-->
		
		<div class="tab tab-equipment-vehicles">			
				<fieldset class="repeating_vehicles">
					<input  class="hidden" type="text" name="attr_vehicles_id" value=""></input>
					<div class="float card">
						<div class="row labels color-darkred">
							<div class="w60px">Fahrzeug</div>
							<input  class="buttoninput buttoninput-both w250px left" type="text" name="attr_vehicles_name" value="0"></input>
							<div class="margin-right-10">Sitze</div>
							<input class="buttoninput buttoninput-both center" type="text" name="attr_vehicles_seats" value="0"></input>
						</div>				
						<div class="row labels color-darkred">							
							<div class="margin-right-10">Handling</div>
							<input class="buttoninput buttoninput-both center" type="text" name="attr_vehicles_handling" value="0"></input>
							<div class="margin-right-10">Beschleunigung</div>
							<input class="buttoninput buttoninput-both center" type="text" name="attr_vehicles_acceleration" value="0"></input>
							<div class="margin-right-10">Geschwindigkeit</div>
							<input class="buttoninput buttoninput-both center" type="text" name="attr_vehicles_speed" value="0"></input>
						</div>		
						<div class="row labels color-darkred">							
							<div class="margin-right-10">Pilot</div>
							<input class="buttoninput buttoninput-both center" type="text" name="attr_vehicles_pilot" value="0"></input>							
							<div class="margin-right-10">Sensor</div>
							<input class="buttoninput buttoninput-both center" type="text" name="attr_vehicles_sensor" value="0"></input>
							<div class="margin-right-10">Panzerung</div>
							<input class="buttoninput buttoninput-both center" type="text" name="attr_vehicles_armor" value="0"></input>							
						</div>		
						<div class="row labels color-darkred">
							<div class="margin-right-10">Matrixzustandsmonitor</div>
							<input class="buttoninput buttoninput-left center" type="text" name="attr_vehicles_matrixmonitor_current" value="0"></input>
							<input class="buttoninput buttoninput-right center" type="text" name="attr_vehicles_matrixmonitor_max" value="0"></input>
							<div class="margin-right-10">Zustandmonitor</div>
							<input class="buttoninput buttoninput-left center" type="text" name="attr_vehicles_physicalmonitor_current" value="0"></input>
							<input class="buttoninput buttoninput-right center" type="text" name="attr_vehicles_physicalmonitor_max" value="0"></input>														
						</div>								
						<div class="row">
							<input  class="show-details" type="checkbox" name="attr_vehicles_show_details"></input>
							<span  class="show-details color-darkred"></span>
							<div class="labels color-darkred">Notizen</div>
										
							<div class="details">								
								<textarea name="attr_vehicles_note" class="w96 h100px clear"></textarea>
							</div>
						</div>
					</div><!--float card-->
				</fieldset><!--equipment-->			
		</div><!--submenu:vehicles-->
		
		<div class="tab tab-equipment-drones">
			<fieldset class="repeating_drones">
				<input  class="hidden" type="text" name="attr_drones_id" value=""></input>
				<div class="float card">
					<div class="row labels color-darkred">
						<div class="w60px">Drohne</div>
						<input  class="buttoninput buttoninput-both w250px left" type="text" name="attr_drones_name" value="0"></input>
						<div class="margin-right-10">Sitze</div>
						<input class="buttoninput buttoninput-both center" type="text" name="attr_drones_seats" value="0"></input>
					</div>				
					<div class="row labels color-darkred">							
						<div class="margin-right-10">Handling</div>
						<input class="buttoninput buttoninput-both center" type="text" name="attr_drones_handling" value="0"></input>
						<div class="margin-right-10">Beschleunigung</div>
						<input class="buttoninput buttoninput-both center" type="text" name="attr_drones_acceleration" value="0"></input>
						<div class="margin-right-10">Geschwindigkeit</div>
						<input class="buttoninput buttoninput-both center" type="text" name="attr_drones_speed" value="0"></input>
					</div>		
					<div class="row labels color-darkred">							
						<div class="margin-right-10">Pilot</div>
						<input class="buttoninput buttoninput-both center" type="text" name="attr_drones_pilot" value="0"></input>							
						<div class="margin-right-10">Sensor</div>
						<input class="buttoninput buttoninput-both center" type="text" name="attr_drones_sensor" value="0"></input>
						<div class="margin-right-10">Panzerung</div>
						<input class="buttoninput buttoninput-both center" type="text" name="attr_drones_armor" value="0"></input>							
					</div>		
					<div class="row labels color-darkred">
						<div class="margin-right-10">Matrixzustandsmonitor</div>
						<input class="buttoninput buttoninput-left center" type="text" name="attr_drones_matrixmonitor_current" value="0"></input>
						<input class="buttoninput buttoninput-right center" type="text" name="attr_drones_matrixmonitor_max" value="0"></input>
						<div class="margin-right-10">Zustandmonitor</div>
						<input class="buttoninput buttoninput-left center" type="text" name="attr_drones_physicalmonitor_current" value="0"></input>
						<input class="buttoninput buttoninput-right center" type="text" name="attr_drones_physicalmonitor_max" value="0"></input>														
					</div>								
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_drones_show_details"></input>
						<span  class="show-details color-darkred"></span>
						<div class="labels color-darkred">Notizen</div>
									
						<div class="details">								
							<textarea name="attr_drones_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</div><!--float card-->
			</fieldset><!--equipment-->	
		</div><!--submenu:drones-->
		
		<div class="tab tab-equipment-orders">
			<div class="float card">
				<div class="row labels color-darkred">
					<div class="w255px">Gegenstand</div>
					<div class="">Anzahl</div>
					<div class="w55px center">&yen;</div>
					<div class="w40px">V</div>
					<div class="">Lieferdatum</div>
				</div>
				<fieldset class="repeating_orders">						
					<input  class="hidden" type="text" name="attr_orders_id" value=""></input>
					<div class="row">
						<input  class="show-details" type="checkbox" name="attr_orders_show_details"></input>
						<span  class="show-details color-darkred"></span>
					
						<input  class="buttoninput buttoninput-left w250px left" type="text" name="attr_orders_name" value="0"></input>
						<input  class="buttoninput buttoninput-center w45px center" type="text" name="attr_orders_count" value="0"></input>						
						<input  class="buttoninput buttoninput-center w55px center" type="text" name="attr_orders_price" value="0"></input>						
						<input  class="buttoninput buttoninput-center center" type="text" name="attr_orders_availability" value="0"></input>						
						<button class="buttoninput buttoninput-right" type='roll' name='roll_orders' value='!shadowrun --character @{character_id} --action order-buy --id @{orders_id} --name @{orders_name} --count @{orders_count} --availability @{orders_availability} --price @{orders_price}'></button>
						
						<input  class="buttoninput buttoninput-both w65px left" type="text" name="attr_orders_orderdate" value="0"></input>						
						
						<div class="details">
							<div class="labels color-darkred w100">Notizen</div>
							<textarea name="attr_orders_note" class="w96 h100px clear"></textarea>
						</div>
					</div>
				</fieldset><!--equipment-->
			</div><!--float card-->
		</div><!--submenu:orders-->
		
	</div><!--equipment-->
  
</div><!--wrapper-->

<!-- ROLLTEMPLATES -->
<rolltemplate class="sheet-rolltemplate-roll">
<table class="sheet-box {{#color}}{{color}}{{/color}}">
<tr>
	{{#erfolge}}
	<td class="sheet-erfolge">
		{{#injurymod}}<div class="sheet-injurymod">{{injurymod}}</div>{{/injurymod}}
		{{#limit}}<div class="sheet-limit">{{limit}}</div>{{/limit}}
		<div class="sheet-count">{{erfolge}}</div>
		{{#total}}<div class="sheet-pool">{{#basis}}{{basis}}{{/basis}}{{#mod}}+{{mod}}={{/mod}}{{^mod}}{{#basis}}={{/basis}}{{/mod}}{{#total}}{{total}}{{/total}}{{^total}}?{{/total}}W6</div>{{/total}}
	</td>{{/erfolge}}
	<td class="sheet-text">
		<div class="sheet-desc">{{text}}</div>
		{{#edge}}<div class="sheet-pool">{{edge}}</div>{{/edge}}
	</td>
</tr>
{{#desc}}
<tr>
	<td class="border-top" colspan="2"><div class="sheet-note">{{desc}}</div></td>
</tr>{{/desc}}
</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-zauber">
<div class="sheet-text">{{text}}{{#ks}} [{{ks}}]{{/ks}}</div>
<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+{{mod}}{{/mod}}{{#pool}}{{#basis}}={{/basis}}{{pool}}W6{{/pool}}{{#erfolge}}, {{erfolge}} Erfolge{{/erfolge}}</div>
{{#kategorie}}<table>
		<tr>
			<td class="sheet-w50">{{kategorie}}</td>
			<td class="sheet-w50"><em>Art:</w gm> {{art}}</td>
		</tr>
		<tr>
			<td><em>Reichweite:</w gm> {{reichweite}}</td>            
			<td><em>Dauer:</w gm> {{dauer}}</td>
		</tr>
		<tr>            
			<td><em>Schaden:</w gm> {{schaden}}</td>
			<td><em>Entzug:</w gm> {{entzug}}</td>
		</tr>
		{{#entzugswiderstand}}
		<tr>
			<td colspan="2" class="sheet-entzugsschaden"><em>Du erleidest {{entzugswiderstand}} Entzugsschaden.</w gm></td>
		</tr>
		{{/entzugswiderstand}}
		{{#reagenzien}}
		<tr>
			<td colspan="2" class="sheet-entzugsschaden"><em>Du verbrauchst {{reagenzien}} Reagenzien.</w gm></td>
		</tr>
		{{/reagenzien}}
		<tr><td colspan="2" class="sheet-italic">{{beschreibung}}</td></tr>
	</table>
{{/kategorie}}    
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-alchemie">
<div class="sheet-text">{{text}}{{#ks}} [{{ks}}]{{/ks}}</div>
<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#pool}}={{pool}}W6{{/pool}}{{#erfolge}}, Wirksamkeit {{erfolge}}{{/erfolge}}</div>
	<table>
		{{#herzstueck}}
		<tr>
			<td colspan="2" class="sheet-entzugsschaden"><em>Herzstück:</w gm>{{herzstueck}}</td>
		</tr>
		{{/herzstueck}}
		<tr>
			<td colspan="2">{{kategorie}}</td>
		</tr>
		<tr>
			<td><em>Auslöser:</w gm> {{ausloeser}}</td>
			<td><em>Art:</w gm> {{art}}</td>
		</tr>
		<tr>
			<td><em>Reichweite:</w gm> {{reichweite}}</td>            
			<td><em>Dauer:</w gm> {{dauer}}</td>
		</tr>
		<tr>            
			<td><em>Schaden:</w gm> {{schaden}}</td>
			<td><em>Entzug:</w gm> {{entzug}}</td>
		</tr>
		{{#entzugswiderstand}}
		<tr>
			<td colspan="2" class="sheet-entzugsschaden"><em>Du erleidest {{entzugswiderstand}} Entzugsschaden.</w gm></td>
		</tr>
		{{/entzugswiderstand}}
		{{#reagenzien}}
		<tr>
			<td colspan="2" class="sheet-entzugsschaden"><em>Du verbrauchst {{reagenzien}} Reagenzien.</w gm></td>
		</tr>
		{{/reagenzien}}
		<tr><td colspan="2" class="sheet-italic">{{beschreibung}}</td></tr>
	</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-complex-form">
<div class="sheet-text">{{text}}{{#stufe}} [{{stufe}}]{{/stufe}}</div>
<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+{{mod}}{{/mod}}{{#pool}}{{#basis}}={{/basis}}{{pool}}W6{{/pool}}{{#erfolge}}, {{erfolge}} Erfolge{{/erfolge}}</div>
	<table>
		<tr>
			<td class="sheet-w50"><em>Ziel:</w gm> {{ziel}}</td>
			<td class="sheet-w50"><em>Dauer:</w gm> {{dauer}}</td>
			<td class="sheet-w50"><em>Schwund:</w gm> {{schwund}}</td>
		</tr>		
		{{#schwundwiderstand}}
		<tr>
			<td colspan="3" class="sheet-schwundschaden"><em>Du erleidest {{schwundwiderstand}} Schwundschaden.</w gm></td>
		</tr>
		{{/schwundwiderstand}}
		<tr><td colspan="3" class="sheet-italic">{{beschreibung}}</td></tr>
	</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-kraft">
<div class="sheet-text">{{text}}{{name}}</div>
	<table>
		{{#art}}<tr>
			<td><em>Art:</w gm> {{art}}</td>            
			<td><em>Handlung:</w gm> {{handlung}}</td>            
		</tr>
		{{/art}}
		{{#reichweite}}
		<tr>
			<td><em>Reichweite:</w gm> {{reichweite}}</td>            
			<td><em>Dauer:</w gm> {{dauer}}</td>
		</tr>
		{{/reichweite}}
		<tr><td colspan="2" class="sheet-italic">{{beschreibung}}</td></tr>
	</table>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-schwaeche">
<div class="sheet-text">{{text}}{{name}}</div>
<div class="sheet-beschreibung">{{beschreibung}}</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-rangedattack">
	<div class="sheet-text">{{text}}</div>
	{{#erfolge}}<div class="sheet-probe">{{basis}}+{{mod}}={{pool}}W6{{#erfolge}}, {{erfolge}} Erfolge{{/erfolge}}</div>{{/erfolge}}
		<table>
		{{#kurz}}<tr>
			<td><em>Kurz:</w gm> {{kurz}}</td>
			<td><em>Mittel:</w gm> {{mittel}}</td>
			<td><em>Weit:</w gm> {{weit}}</td>
			<td><em>Extrem:</w gm> {{extrem}}</td>
		</tr>{{/kurz}}
		{{#schaden}}<tr>
			<td colspan="2"><em>Schaden:</w gm> {{schaden}}</td>            
			<td><em>DK:</w gm> {{dk}}</td>
			<td><em>RK:</w gm> {{rk}}</td>
		</tr>{{/schaden}}
		{{#modus}}<tr>
			{{#praezision}}
			<td colspan="1"><em>Modus:</w gm> {{modus}}</td>
			<td colspan="1"><em>Präzision:</w gm> {{praezision}}</td>
			<td colspan="2"><em>Munition:</w gm> {{munition_aktuell}}/{{munition_maximum}}</td>
			{{/praezision}}
			{{^praezision}}
			<td colspan="2"><em>Modus:</w gm> {{modus}}</td>
			<td colspan="2"><em>Munition:</w gm> {{munition_aktuell}}/{{munition_maximum}}</td>
			{{/praezision}}
		</tr>{{/modus}}
		{{#anzahlkugeln}}
		<tr><td colspan="4" class="sheet-italic">Du verschießt {{anzahlkugeln}} Kugeln</td></tr>
		{{/anzahlkugeln}}
		{{#recoil}}
		<tr><td colspan="4" class="sheet-italic">Dein aktueller Rückstoß beträgt -{{recoil}}</td></tr>
		{{/recoil}}
		{{#munition_update}}
		<tr><td colspan="4" class="sheet-italic">Munition muss um -{{munition_update}} aktualisiert werden</td></tr>
		{{/munition_update}}
				{{#tarn}}
		<tr><td colspan="4" class="sheet-italic"><em>Tarnmodifikator:</w gm> {{tarn}}</td></tr>
		{{/tarn}}
	</table>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-meleeattack">
	<div class="sheet-text">{{text}}</div>
	{{#erfolge}}<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#pool}}={{pool}}W6{{/pool}}{{#erfolge}}, {{erfolge}} Erfolge{{/erfolge}}</div>{{/erfolge}}
		<table>
		{{#reichweite}}<tr>
			<td><em>Reichweite:</w gm> {{reichweite}}</td>
			<td><em>Schaden:</w gm> {{schaden}}</td>
		</tr>{{/reichweite}}
		{{#praezision}}<tr>
			<td><em>Präzision:</w gm> {{praezision}}</td>
			<td><em>DK:</w gm> {{dk}}</td>
		</tr>{{/praezision}}
		{{#tarn}}
		<tr><td colspan="2" class="sheet-italic"><em>Tarnmodifikator:</w gm> {{tarn}}</td></tr>
		{{/tarn}}
	</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-geist">
	<div class="sheet-text">{{#text}}{{text}} {{/text}}{{name}} [{{ks}}]</div>
	{{#erfolge}}<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#pool}}={{pool}}W6{{/pool}}{{#erfolge}}, {{erfolge}} Erfolge{{/erfolge}}</div>{{/erfolge}}
	{{#geist-erfolge}}<div class="sheet-probe">Der Geist hat {{geist-erfolge}} Erfolge</div>{{/geist-erfolge}}
	{{#dienste}}<div class="sheet-probe">Dienste: {{dienste}}</div>{{/dienste}}
	{{#entzugsschaden}}<div class="sheet-probe">Du erleidest {{entzugsschaden}} Entzugsschaden</div>{{/entzugsschaden}}
	{{#reagenzien}}<div class="sheet-probe">Der verbrauchst {{reagenzien}} Reagenzien</div>{{/reagenzien}}
		<table>
		{{#kon}}
		<tr>
			<td><em>Kon:</w gm></td><td>{{kon}}</td>
			<td><em>Ges:</w gm></td><td>{{ges}}</td>
			<td><em>Rea:</w gm></td><td>{{rea}}</td>
			<td><em>Str:</w gm></td><td>{{str}}</td>
		</tr>
		<tr>
			<td><em>Wil:</w gm></td><td>{{wil}}</td>
			<td><em>Log:</w gm></td><td>{{log}}</td>
			<td><em>Int:</w gm></td><td>{{int}}</td>
			<td><em>Cha:</w gm></td><td>{{cha}}</td>
		</tr>
		<tr>
			<td><em>Edg:</w gm></td><td>{{edg}}</td>
			<td><em>Ess:</w gm></td><td>{{ess}}</td>
			<td><em>Mag:</w gm></td><td>{{mag}}</td>
			<td></td><td></td>
		</tr>{{/kon}}
		{{#ini}}<tr>
			<td colspan="4"><em>Initiative:</w gm></td><td colspan="4">{{ini}}</td>
		</tr>
		<tr>
			<td colspan="4"><em>Astrale Initiative:</w gm></td><td colspan="4">{{a-ini}}</td>
		</tr>{{/ini}}
		{{#fertigkeiten}}<tr>
			<td colspan="8"><em>Fertigkeiten:</w gm></td>
		</tr>
		<tr>
			<td colspan="8">{{fertigkeiten}}</td>
		</tr>{{/fertigkeiten}}
		{{#kräfte}}<tr>
			<td colspan="8"><em>Kräfte:</w gm></td>
		</tr>
		<tr>
			<td colspan="8">{{kräfte}}</td>
		</tr>
		<tr>
			<td colspan="8"><em>Zusätzliche Kräfte:</w gm></td>
		</tr>
		<tr>
			<td colspan="8">{{zusätzliche-kräfte}}</td>
		</tr>
		<tr>
			<td colspan="8"><em>Schwächen:</w gm></td>
		</tr>
		<tr>
			<td colspan="8">{{schwächen}}</td>
		</tr>{{/kräfte}}
		{{#besonderheiten}}<tr>
			<td colspan="8"><em>Besonderheiten:</w gm></td>
		</tr>
		<tr>
			<td colspan="8">{{besonderheiten}}</td>
		</tr>{{/besonderheiten}}
	</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-sprite">
	<div class="sheet-text">{{#text}}{{text}} {{/text}}{{name}} [{{stufe}}]</div>
	{{#erfolge}}<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#pool}}={{pool}}W6{{/pool}}{{#erfolge}}, {{erfolge}} Erfolge{{/erfolge}}</div>{{/erfolge}}
	{{#sprite-erfolge}}<div class="sheet-probe">Das Sprite hat {{sprite-erfolge}} Erfolge</div>{{/sprite-erfolge}}
		<table>
		{{#angriff}}
			<tr>
				<td><em>A:</w gm></td><td>{{angriff}}</td>
				<td><em>S:</w gm></td><td>{{schleicher}}</td>
				<td><em>D:</w gm></td><td>{{datenverarbeitung}}</td>				
				<td><em>F:</w gm></td><td>{{firewall}}</td>				
			</tr>			
			<tr>					
				<td><em>RES:</w gm></td><td>{{resonanz}}</td>				
				<td><em>INI:</w gm></td><td colspan="5">{{initiative}}</td>
			</tr>
			<tr>
				<td colspan="8"><em>Fertigkeiten:</w gm></td>
			</tr>
			<tr>
				<td colspan="8">{{fertigkeiten}}</td>
			</tr>
			<tr>
				<td colspan="8"><em>Kräfte:</w gm></td>
			</tr>
			<tr>
				<td colspan="8">{{kräfte}}</td>
			</tr>
			{{/angriff}}			
			<tr>
				<td colspan="8"><em>Du erleidest </w gm> {{fadeschaden}} <em>Schwundschaden</w gm></td>
			</tr>
			<tr>
				<td colspan="8"><em>Das Sprite schuldet dir </w gm> {{tasks}} <em>Aufgaben</w gm></td>
			</tr>
			{{#beschreibung}}
			<tr>
				<td colspan="8"><em>Beschreibung:</w gm></td>
			</tr>
			<tr>
				<td colspan="8"><em>{{beschreibung}}</w gm></td>
			</tr>        
			{{/beschreibung}}
		</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-probe">
<div class="sheet-text {{#color}}{{color}}{{/color}}">{{#text}}{{text}} {{/text}}{{#test}}{{test}}{{/test}}</div>
{{#erfolge}}<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#pool}}{{#basis}}={{/basis}}{{pool}}W6{{/pool}}{{#erfolge}}{{#probe}}, {{/probe}}{{erfolge}} Erfolge{{/erfolge}}</div>{{/erfolge}}
{{#wert}}<div class="sheet-wert">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#basis}}={{/basis}}{{wert}}</div>{{/wert}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-attribut">
<table>
<tr>
<td class="sheet-text">{{text}}</td>
<td class="sheet-erfolge">{{erfolge}}</td>
</tr>
</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-aktionsfertigkeit">
<table>
<tr>
<td class="sheet-text">{{text}}</td>
<td class="sheet-erfolge">{{erfolge}}</td>
</tr>
</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-wissensfertigkeit">
<table>
<tr>
<td class="sheet-text">{{text}}</td>
<td class="sheet-erfolge">{{erfolge}}</td>
</tr>
</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-entzug">
<table>
<tr>
<td class="sheet-text">{{text}}</td>
<td class="sheet-erfolge">{{erfolge}}</td>
</tr>
</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-schwund">
<table>
<tr>
<td class="sheet-text">{{text}}</td>
<td class="sheet-erfolge">{{erfolge}}</td>
</tr>
</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-defense">
<table>
<tr>
<td class="sheet-text">{{text}}</td>
<td class="sheet-erfolge">{{erfolge}}</td>
</tr>
</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-initiative">
<table>
<tr>
<td class="sheet-text">{{text}}</td>
<td class="sheet-erfolge">{{erfolge}}</td>
</tr>
</table>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-zustandsmonitor">
{{#paktuell}}
<table>
<tbody>
{{#probe}}
	<tr class="header-white">
		<td colspan="2">Probe</td>
		<td>{{probe}}</td>
	</tr>
{{/probe}}
	<tr class="header">
		<td>Physisch</td>
		<td>Geistig</td>
		<td>Überzählig</td>
	</tr>
	<tr>
		<td class="center">{{paktuell}}/{{pmax}}</td>
		<td class="center">{{gaktuell}}/{{gmax}}</td>
		<td class="center">{{overflow}}/{{overflowmax}}</td>
	</tr>
	{{#mod}}
	<tr>
		<td colspan="2" class="roundbottomborder5"><em>Verletzungsmodifikator:</w gm></td><td class="center">{{mod}}</td>
	</tr>
	{{/mod}}
	{{#hoheschmerztoleranz}}
	<tr>
		<td colspan="2" class="roundbottomborder5"><em>Hohe Schmerztoleranz:</w gm></td><td class="center">{{hoheschmerztoleranz}}</td>
	</tr>
	{{/hoheschmerztoleranz}}
</tbody>    
</table>
{{/paktuell}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-connection">
<div class="sheet-text">{{#text}}{{text}}{{/text}}</div>
{{#typ}}<div class="sheet-typ">{{typ}}</div>{{/typ}}
{{#wert}}<div class="sheet-wert">{{wert}}</div>{{/wert}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-item">
<div class="sheet-text">{{#text}}{{text}} {{/text}}{{#test}}{{test}}{{/test}}{{#erfolge}}{{/erfolge}}</div>
{{#erfolge}}<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#pool}}={{pool}}W6{{/pool}}{{#erfolge}}, {{erfolge}} Erfolge{{/erfolge}}</div>{{/erfolge}}
{{#wert}}<div class="sheet-wert">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#basis}}={{/basis}}{{wert}}</div>{{/wert}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-edge">
<div class="sheet-text">{{#text}}{{text}} {{/text}}{{#test}}{{test}}{{/test}}{{#erfolge}}{{/erfolge}}</div>
{{#erfolge}}<div class="sheet-probe">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#pool}}={{pool}}W6{{/pool}}{{#erfolge}}, {{erfolge}} Erfolge{{/erfolge}}</div>{{/erfolge}}
{{#wert}}<div class="sheet-wert">{{#basis}}{{basis}}{{/basis}}{{#mod}}+({{mod}}){{/mod}}{{#basis}}={{/basis}}{{wert}}</div>{{/wert}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-tragkraft">
<div class="sheet-text">{{#text}}{{text}} {{/text}}{{#test}}{{test}}{{/test}}</div>
{{#erfolge}}<div class="sheet-erfolge">Erfolge: {{erfolge}}</div>{{/erfolge}}
{{#str}}<div class="sheet-erfolge"><em>STR:</w gm>: {{str}},<em>KON:</w gm>: {{kon}}</div>{{/str}}
{{#heben}}<table>
	<tbody>
		<tr>
			<td>Heben</td>
			<td>Tragen</td>
			<td>Stemmen</td>
		</tr>
		<tr>
			<td>{{heben}}</td>
			<td>{{tragen}}</td>
			<td>{{stemmen}}</td>
		</tr>
	</tbody>
</table>{{/heben}}
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-bewegung">
<div class="sheet-text">{{#text}}{{text}}{{/text}}</div>
{{#gehen_frei}}<div class="sheet-wert">Noch {{gehen_frei}}m gehen übrig</div>{{/gehen_frei}}
{{#laufen_frei}}<div class="sheet-wert">Noch {{laufen_frei}}m laufen übrig</div>{{/laufen_frei}}
{{#sprinten}}<div class="sheet-wert">Inkl. +{{sprinten}}m durch Sprinten</div>{{/sprinten}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-gm-menu">
{{#title}}<div class="sheet-menu-title">{{title}}</div>{{/title}}
{{#allprops() title}}<div class="sheet-menu-row">{{value}}</div>{{/allprops() title}}
</rolltemplate>

<!-- Sheet Worker -->
<script type="text/worker">
/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS = TAS || (function(){
    'use strict';

    var version = '0.2.1',
        lastUpdate = 1453794214,

        loggingSettings = {
            debug: {
                key:     'debug',
                title:   'DEBUG',
                color: {
                    bgLabel: '#7732A2',
                    label:   '#F2EF40',
                    bgText:  '#FFFEB7',
                    text:    '#7732A2'
                }
            },
            error: {
                key:     'error',
                title:   'Error',
                color: {
                    bgLabel: '#C11713',
                    label:   'white',
                    bgText:  '#C11713',
                    text:    'white'
                }
            },
            warn: {
                key:     'warn',
                title:   'Warning',
                color: {
                    bgLabel: '#F29140',
                    label:   'white',
                    bgText:  '#FFD8B7',
                    text:    'black'
                }
            },
            info: {
                key:     'info',
                title:   'Info',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            notice: {
                key:     'notice',
                title:   'Notice',
                color: {
                    bgLabel: '#33C133',
                    label:   'white',
                    bgText:  '#ADF1AD',
                    text:    'black'
                }
            },
            log: {
                key:     'log',
                title:   'Log',
                color: {
                    bgLabel: '#f2f240',
                    label:   'black',
                    bgText:  '#ffff90',
                    text:    'black'
                }
            },
            callstack: {
                key:     'TAS',
                title:   'function',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            callstack_async: {
                key:     'TAS',
                title:   'ASYNC CALL',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#413FA9',
                    text:    'white'
                }
            },
            TAS: {
                key:     'TAS',
                title:   'TAS',
                color: {
                    bgLabel: 'grey',
                    label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                    bgText:  'grey',
                    text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                }
            }
        },


        config = {
            debugMode: false,
            logging: {
                log: true,
                notice: true,
                info: true,
                warn: true,
                error: true,
                debug: false
            }
        },

        callstackRegistry = [],
		queuedUpdates = {}, //< Used for delaying saves till the last momment.

    complexType = function(o){
        switch(typeof o){
            case 'string':
                return 'string';
            case 'boolean':
                return 'boolean';
            case 'number':
                return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
            case 'function':
                return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
            case 'object':
                return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
            default:
                return typeof o;
        }
    },

	dataLogger = function(primaryLogger,secondaryLogger,data){
        _.each(data,function(m){
            var type = complexType(m);
            switch(type){
                case 'string':
                    primaryLogger(m);
                    break;
                case 'undefined':
                case 'null':
                case 'NaN':
                    primaryLogger('['+type+']');
                    break;
                case 'number':
                case 'not a number':
                case 'integer':
                case 'decimal':
                case 'boolean':
                    primaryLogger('['+type+']: '+m);
                    break;
                default:
                    primaryLogger('['+type+']:=========================================');
                    secondaryLogger(m);
                    primaryLogger('=========================================================');
                    break;
            }
        });
	},


    colorLog = function(options){
        var coloredLoggerFunction,
            key = options.key,
            label = options.title || 'TAS',
            lBGColor = (options.color && options.color.bgLabel) || 'blue',
            lTxtColor = (options.color && options.color.label) || 'white',
            mBGColor = (options.color && options.color.bgText) || 'blue',
            mTxtColor = (options.color && options.color.text) || 'white';

        coloredLoggerFunction = function(message){
            console.log(
                '%c '+label+': %c '+message,
                'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
                'background-color: '+mBGColor+';color: '+mTxtColor+';'
            ); 
        };
        return function(){
            if('TAS'===key || config.logging[key]){
               dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
            }
        };
    },

    logDebug  = colorLog(loggingSettings.debug),
    logError  = colorLog(loggingSettings.error),
    logWarn   = colorLog(loggingSettings.warn),
    logInfo   = colorLog(loggingSettings.info),
    logNotice = colorLog(loggingSettings.notice),
    logLog    = colorLog(loggingSettings.log),
    log       = colorLog(loggingSettings.TAS),
    logCS     = colorLog(loggingSettings.callstack),
    logCSA    = colorLog(loggingSettings.callstack_async),

    registerCallstack = function(callstack,label){
        var idx=_.findIndex(callstackRegistry,function(o){
            return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length)
                && _.difference(o.stack,callstack).length === 0
                && o.label === label;
        });
        if(-1 === idx){
            idx=callstackRegistry.length;
            callstackRegistry.push({
                stack: callstack,
                label: label
            });
        }
        return idx;
    },

    setConfigOption = function(options){
        var newconf =_.defaults(options,config);
        newconf.logging=_.defaults(
            (options && options.logging)||{},
            config.logging
        );
        config=newconf;
    },
    
    debugMode = function(){
        config.logging.debug=true;
        config.debugMode = true;
    },

    getCallstack = function(){
        var e = new Error('dummy'),
            stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
            .split('\n')),function(l){
                return l.replace(/\s+.*$/,'');
            });
        return stack;
    },
    logCallstackSub = function(cs){
        var matches, csa;
        _.find(cs,function(line){
            matches = line.match(/TAS_CALLSTACK_(\d+)/);
            if(matches){
               csa=callstackRegistry[matches[1]];
               logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
               logCallstackSub(csa.stack);
               return true;
            } 
            logCS(line);
            return false;
        });
    },
    logCallstack = function(){
        var cs;
        if(config.debugMode){
            cs = getCallstack();
            cs.shift();
            log('==============================> CALLSTACK <==============================');
            logCallstackSub(cs);
            log('=========================================================================');
        }
    },


    wrapCallback = function (label, callback,context){
        var callstack;
        if('function' === typeof label){
            context=callback;
            callback=label;
            label=undefined;
        }
        if(!config.debugMode){
            return (function(cb,ctx){
                return function(){
                    cb.apply(ctx||{},arguments);
                };
            }(callback,context));
        }
        
        callstack = getCallstack();
        callstack.shift();
        
        return (function(cb,ctx,cs,lbl){
            var ctxref=registerCallstack(cs,lbl);
            return new Function('cb','ctx','TASlog',
                "return function TAS_CALLSTACK_"+ctxref+"(){"+
                    "TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
                    "cb.apply(ctx||{},arguments);"+
                    "TASlog('Exiting: '+(cb.name||'(anonymous function)'));"+
                "};")(cb,ctx,log);
        }(callback,context,callstack,label));
    },


    prepareUpdate = function( attribute, value ){
        queuedUpdates[attribute]=value;
    },

    applyQueuedUpdates = function() {
      setAttrs(queuedUpdates);
      queuedUpdates = {};
    },

	namesFromArgs = function(args,base){
        return _.chain(args)
            .reduce(function(memo,attr){
                if('string' === typeof attr) {
                    memo.push(attr);
                } else if(_.isArray(args) || _.isArguments(args)){
                    memo = namesFromArgs(attr,memo);
                }
                return memo;
            },(_.isArray(base) && base) || [])
            .uniq()
            .value();
	},

	addId = function(obj,value){
		Object.defineProperty(obj,'id',{
			value: value,
			writeable: false,
			enumerable: false
		});
	},

	addProp = function(obj,prop,value,fullname){
		(function(){
            var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
			    full_pname = fullname || prop,
                pvalue=value;

            _.each(['S','I','F'],function(p){
                if( !_.has(obj,p)){
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if( !_.has(obj,'D')){
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10),function(m,d){
                            Object.defineProperty(m, d, {
                                value: {},
                                enumerable: true,
                                readonly: true
                            });
                            return m;
                        },{}),
                    enumerable: false,
                    readonly: true
                });
            }


            // Raw value
			Object.defineProperty(obj, pname, {
                enumerable: true,
				set: function(v){
					pvalue=v;
                    prepareUpdate(full_pname,v);
				},
				get: function(){
					return pvalue;
				}
			});
            
            // string value
			Object.defineProperty(obj.S, pname, {
                enumerable: true,
				set: function(v){
                    var val=v.toString();
					pvalue=val;
                    prepareUpdate(full_pname,val);
				},
				get: function(){
					return pvalue.toString();
				}
			});

            // int value
			Object.defineProperty(obj.I, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseInt(v,10) || 0;
					pvalue=val;
                    prepareUpdate(full_pname,val);
				},
				get: function(){
					return parseInt(pvalue,10) || 0;
				}
			});

            // float value
			Object.defineProperty(obj.F, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseFloat(v) || 0;
					pvalue=val;
                    prepareUpdate(full_pname,val);
				},
				get: function(){
					return parseFloat(pvalue) || 0;
				}
			});
            _.each(_.range(10),function(d){
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function(v){
                        var val=(parseFloat(v) || 0).toFixed(d);
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    },
                    get: function(){
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });

		}());
	},
	
	repeating = function( section ) {
		return (function(s){
			var sectionName = s,
				attrNames = [],
				fieldNames = [],
				operations = [],
                after = [],
			
			repAttrs = function TAS_Repeating_Attrs(){
				attrNames = namesFromArgs(arguments,attrNames);
				return this;
			},
			repFields = function TAS_Repeating_Fields(){
				fieldNames = namesFromArgs(arguments,fieldNames);
				return this;
			},
			repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
				operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
			repMap = function TAS_Repeating_Map(func, final, context) {
				operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
            repEach = function TAS_Repeating_Each(func, final, context) {
				operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repTap = function TAS_Repeating_Tap(final, context) {
				operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repAfter = function TAS_Repeating_After(callback,context) {
				after.push({
                    callback: (callback && _.isFunction(callback) && callback) || _.noop,
                    context: context || {}
                });
				return this;
            },
			repExecute = function TAS_Repeating_Execute(callback,context){
				var rowSet = {},
					attrSet = {},
					fieldIds = [],
					fullFieldNames = [];

                repAfter(callback,context);

				// call each operation per row.
				// call each operation's final
				getSectionIDs("repeating_"+sectionName,function(ids){
					fieldIds = ids;
					fullFieldNames = _.reduce(fieldIds,function(memo,id){
						return memo.concat(_.map(fieldNames,function(name){
							return 'repeating_'+sectionName+'_'+id+'_'+name;  
						}));
					},[]);
					getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
						_.each(attrNames,function(aname){
							if(values.hasOwnProperty(aname)){
								addProp(attrSet,aname,values[aname]);
							}
						});

						rowSet = _.reduce(fieldIds,function(memo,id){
							var r={};
							addId(r,id);
							_.each(fieldNames,function(name){
								var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
								addProp(r,name,values[fn],fn);
							});

							memo[id]=r;

							return memo;
						},{});

                        _.each(operations,function(op){
                            var res;
                            switch(op.type){
                                case 'tap':
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'each':
                                    _.each(rowSet,function(r){
                                        _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'map':
                                    res = _.map(rowSet,function(r){
                                        return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;

                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet,function(r){
                                        res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                            }
                        });

                        // finalize attrs
                        applyQueuedUpdates();
                        _.each(after,function(op){
                            _.bind(op.callback,op.context)();
                        });
					});
				});
			};
				
			return {
				attrs: repAttrs,
				attr: repAttrs,

				column: repFields,
				columns: repFields,
				field: repFields,
				fields: repFields,

				reduce: repReduce,
				inject: repReduce,
				foldl: repReduce,

				map: repMap,
				collect: repMap,

				each: repEach,
                forEach: repEach,

                tap: repTap,
                'do': repTap,

				after: repAfter,
				last: repAfter,
				done: repAfter,

				execute: repExecute,
				go: repExecute,
				run: repExecute
			};
		}(section));
	},


    repeatingSimpleSum = function(section, field, destination){
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function(m,r){
                return m + (r.F[field]);
            },0,function(t,r,a){
                a[destination]=t;
            })
            .execute();
    };

	console.log('%c.¸¸.*´¨`*.¸¸.*´¨`*.¸  The Aaron Sheet  v'+version+'  ¸.*´¨`*.¸¸.*´¨`*.¸¸.','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
	console.log('%c.¸¸.*´¨`*.¸¸.*´¨`*.¸  Last update: '+(new Date(lastUpdate*1000))+'  ¸.*´¨`*.¸¸.*´¨`*.¸¸.','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');


    return {
        /* Repeating Sections */
        repeatingSimpleSum: repeatingSimpleSum,
		repeating: repeating,

        /* Configuration */
        config: setConfigOption,

        /* Debugging */
        callback: wrapCallback,
        callstack: logCallstack,
        debugMode: debugMode,
        _fn: wrapCallback,

        /* Logging */
        debug: logDebug,
        error: logError,
        warn: logWarn,
        info: logInfo,
        notice: logNotice,
        log: logLog
    };
}());
/* ---- END: TheAaronSheet.js ---- */
// Attributes
on("sheet:opened change:kon_basis change:kon_mod",function(){update_kon();});
on("sheet:opened change:ges_basis change:ges_mod",function(){update_ges();});
on("sheet:opened change:rea_basis change:rea_mod",function(){update_rea();});
on("sheet:opened change:str_basis change:str_mod",function(){update_str();});
on("sheet:opened change:wil_basis change:wil_mod",function(){update_wil();});
on("sheet:opened change:int_basis change:int_mod",function(){update_int();});
on("sheet:opened change:log_basis change:log_mod",function(){update_log();});
on("sheet:opened change:cha_basis change:cha_mod",function(){update_cha();});
on("sheet:opened change:mag_basis change:mag_mod",function(){update_mag();});
on("sheet:opened change:res_basis change:res_mod",function(){update_res();});
on("sheet:opened change:edg_basis change:edg_mod",function(){update_edg();});
on("sheet:opened change:ess_basis change:ess_mod",function(){update_ess();});

// Initiative
on("sheet:opened change:ini_active "+
"change:initiative_basis change:ar_initiative_basis change:vr_cold_initiative_basis change:vr_hot_initiative_basis change:astral_initiative_basis "+
"change:initiative_mod change:ar_initiative_mod change:vr_cold_initiative_mod change:vr_hot_initiative_mod change:astral_initiative_mod "+
"change:initiative_wuerfel change:ar_initiative_wuerfel change:vr_cold_initiative_wuerfel change:vr_hot_initiative_wuerfel change:astral_initiative_wuerfel", function() {
	set_active_ini()
});

on("sheet:opened change:rea change:int",function(){update_initiative();});
on("sheet:opened change:rea change:int",function(){update_ar_initiative();});

on("sheet:opened", function() {
	update_vr_cold_initiative();
	update_vr_hot_initiative();
});

on("sheet:opened change:int",function(){update_astral_initiative();});

// Limits
on("sheet:opened change:str change:kon change:rea change:klimit_mod",function(){update_klimit();});
on("sheet:opened change:log change:int change:wil change:glimit_mod",function(){update_glimit();});
on("sheet:opened change:cha change:wil change:ess change:slimit_mod",function(){update_slimit();});
on("sheet:opened change:glimit change:slimit",						 function(){update_alimit();});

// Bewegung / Tragen
on("sheet:opened change:ges change:bewegung_gehen_mult change:bewegung_laufen_mult",								function(){update_movement();});
on("sheet:opened change:str change:tragkraft_heben_mult change:tragkraft_tragen_mult change:tragkraft_stemmen_mult",function(){update_lifting();});

// attribute tests
on("sheet:opened change:cha change:wil change:selbstbeherrschung_mod",function(){update_composure();});
on("sheet:opened change:cha change:int change:menschenkenntnis_mod",  function(){update_judge();});
on("sheet:opened change:log change:int change:erinnerung_mod",		  function(){update_memory();});

// SUM
// Karma
on("sheet:opened change:repeating_advancementkarma remove:repeating_advancementkarma", function() {
	TAS.repeating('advancementkarma')
	   .attrs('karma_total','karma_current')  //< getting the attributes for the totals
	   .fields('advancementkarma_karma') //< specifying the fields we care about        
	   .reduce(function(m,r){
	   	m.income  += r.I.advancementkarma_karma>0 ? r.I.advancementkarma_karma:0; //< Generate a running cost
		m.expense += r.I.advancementkarma_karma<0 ? r.I.advancementkarma_karma:0;
	   	return m;
	   },{income:0,expense:0},function(m,r,a){
	   	a.I.karma_total = m.income;  //< take the final sum and set it on the total attribute
		console.log("Set karma_total to"+m.income)
		a.I.karma_current = m.income + m.expense;
		console.log("Set karma_current to"+a.I.karma_current)
		
	   })
	   .execute();  //< begin executing the above operations
});
// nuyen
on("sheet:opened change:repeating_advancementnuyen remove:repeating_advancementnuyen", function() {
	TAS.repeating('advancementnuyen')
	   .attrs('nuyen_total')  //< getting the attributes for the totals
	   .fields('advancementnuyen_nuyen') //< specifying the fields we care about        
	   .reduce(function(m,r){
	   	m += r.I.advancementnuyen_nuyen; //< Generate a running cost
	   	return m;
	   },0,function(m,r,a){
	   	a.I.nuyen_total = m;  //< take the final sum and set it on the total attribute
		console.log("Set nuyen to"+m)
	   })
	   .execute();  //< begin executing the above operations
});

on("sheet:opened change:nuyen_total change:nuyen_aktuell", function() {		
	getAttrs(["nuyen_total","nuyen_aktuell"], function(v) {		
		setAttrs({
			'nuyen_neu': safe.I(v.nuyen_aktuell) - safe.I(v.nuyen_total)
		});
	});
});

// essence
on("sheet:opened change:repeating_augmentation remove:repeating_augmentations", function() {
	TAS.repeating('augmentations')
	   .attrs('ess_mod')  //< getting the attributes for the totals
	   .fields('augmentations_essence') //< specifying the fields we care about        
	   .reduce(function(m,r){
	   	m += r.F.augmentations_essence; //< Generate a running cost
	   	return m;
	   },0,function(m,r,a){
	   	a.F.ess_mod = m;  //< take the final sum and set it on the total attribute
		console.log("Set ess_mod to"+m)
	   })
	   .execute();  //< begin executing the above operations
});

// settings
on("sheet:opened change:use_edge", function() {
	getAttrs(["use_edge"], function(v) {	  
		console.log("USE EDGE:"+v.use_edge)
		use_edge = (v.use_edge == "on")
		if(use_edge){
			setAttrs({
			  'cmd_use_edge_token': "!",
			  'cmd_use_edge_text' : "{{edge=Edge @{edg}}}",
			  'cmd_use_edge_mod' : "+@{edg}"
			  
			});
		}else{
			setAttrs({
			  'cmd_use_edge_token': "",
			  'cmd_use_edge_text' : "",
			  'cmd_use_edge_mod' : ""
			});
		}      
   });
});

on("sheet:opened change:use_injury_mod change:injury_mod", function() {
	getAttrs(["use_injury_mod","injury_mod"], function(v) {	  
		use_injury = (v.use_injury_mod == "on");	
		if(use_injury && mod > 0){
			setAttrs({
				  'cmd_injury_mod': "-@{injury_mod}",
				  'cmd_injury_text': "{{injurymod=-@{injury_mod}}}"
			  });
		}else{
			setAttrs({
				  'cmd_injury_mod': "",
				  'cmd_injury_text': ""
			  });
		}
		setAttrs({
			'injury_mod_negative': -safe.I(v.injury_mod)
		});		
   });
});


// Actionskills
on("sheet:opened", function() {
	getSectionIDs("repeating_skillsaction", function(idarray) {
		console.log("SKILL CHANGE sheet:opened");
		var limits = [];		
		for(var i=0; i < idarray.length; i++) {
			var limit = "repeating_skillsaction_"+idarray[i]+"_skillsaction_limit";
			limits.push(limit)
		}		
		/*getAttrs(limits, function(v) {
			for(var j=0; j < idarray.length; j++) {
				var limit = "repeating_skillsaction_"+idarray[j]+"_skillsaction_limit";				
				console.log("Limit j:"+j+":"+v["repeating_skillsaction_"+idarray[j]+"_skillsaction_limit"]);
			}			
		});*/
   });
});

on("change:repeating_skillsaction", function() {
	getAttrs(["klimit","glimit","slimit","alimit",
	"repeating_skillsaction_skillsaction_limit","repeating_skillsaction_skillsaction_limit_mod",
	"repeating_skillsaction_skillsaction_note","repeating_skillsaction_skillsaction_include_note"], function(v) {
		console.log("Selected Limit:"+v.repeating_skillsaction_skillsaction_limit);
		var mod = safe.I(v.repeating_skillsaction_skillsaction_limit_mod);
		if(v.repeating_skillsaction_skillsaction_limit == "@{klimit}"){
			console.log("@{klimit}:"+v.klimit);
			var total = safe.I(v.klimit) + mod;
			setAttrs({
				'repeating_skillsaction_skillsaction_limit_text': "{{limit="+total+"}}",
				'repeating_skillsaction_skillsaction_limit_formatted': "kh"+total,
				'repeating_skillsaction_skillsaction_limit_display': safe.I(v.klimit),
				'repeating_skillsaction_skillsaction_limit_total': total
			});
		}else if(v.repeating_skillsaction_skillsaction_limit == "@{glimit}"){
			console.log("@{glimit}:"+v.glimit);
			var total = safe.I(v.glimit) + mod;
			setAttrs({			
				'repeating_skillsaction_skillsaction_limit_text': "{{limit="+total+"}}",
				'repeating_skillsaction_skillsaction_limit_formatted': "kh"+total,
				'repeating_skillsaction_skillsaction_limit_display': safe.I(v.glimit),
				'repeating_skillsaction_skillsaction_limit_total': total
			});
		}else if(v.repeating_skillsaction_skillsaction_limit == "@{slimit}"){
			console.log("@{slimit}:"+v.slimit);
			var total = safe.I(v.slimit) + mod;
			setAttrs({
				'repeating_skillsaction_skillsaction_limit_text': "{{limit="+total+"}}",
				'repeating_skillsaction_skillsaction_limit_formatted': "kh"+total,
				'repeating_skillsaction_skillsaction_limit_display': safe.I(v.slimit),
				'repeating_skillsaction_skillsaction_limit_total': total
			});
		}else if(v.repeating_skillsaction_skillsaction_limit == "@{alimit}"){
			console.log("@{alimit}:"+v.alimit);
			var total = safe.I(v.alimit) + mod;
			setAttrs({
				'repeating_skillsaction_skillsaction_limit_text': "{{limit="+total+"}}",
				'repeating_skillsaction_skillsaction_limit_formatted': "kh"+total,
				'repeating_skillsaction_skillsaction_limit_display': safe.I(v.alimit),
				'repeating_skillsaction_skillsaction_limit_total': total
			});
		}else if(v.repeating_skillsaction_skillsaction_limit == "0"){
			console.log("0+"+v.repeating_skillsaction_skillsaction_limit_mod);
			var total = mod;
			setAttrs({
				'repeating_skillsaction_skillsaction_limit_text': "{{limit="+total+"}}",
				'repeating_skillsaction_skillsaction_limit_formatted': "kh"+total,
				'repeating_skillsaction_skillsaction_limit_display': "-",
				'repeating_skillsaction_skillsaction_limit_total': total
			});
		}else if(v.repeating_skillsaction_skillsaction_limit == "99"){
			console.log("99: NO LIMIT");
			setAttrs({
				'repeating_skillsaction_skillsaction_limit_text': "{{unused}}",
				'repeating_skillsaction_skillsaction_limit_formatted': "kh9999",
				'repeating_skillsaction_skillsaction_limit_display': "-",
				'repeating_skillsaction_skillsaction_limit_total': "-"
			});
		}else{
			console.log("ELSE "+v.repeating_skillsaction_skillsaction_limit);
		}
		if(v.repeating_skillsaction_skillsaction_include_note == "on"){
			setAttrs({
				'repeating_skillsaction_skillsaction_desc': "{{desc=@{skillsaction_note}}}"
			});
		}else{
			setAttrs({
				'repeating_skillsaction_skillsaction_desc': "{{unused}}"
			});
		}		
	});
});

/*on("sheet:opened", function() {
	getSectionIDs("repeating_skillsknowledge", function(idarray) {
		var limits = [];
		for(var i=0; i < idarray.length; i++) {
			var limit = "repeating_skillsknowledge_"+idarray[i]+"_skillsknowledge_limit";
			limits.push(limit);
		}		
		getAttrs(limits, function(v) {
			for(var j=0; j < idarray.length; j++) {
				var limit = "repeating_skillsknowledge_"+idarray[j]+"_skillsknowledge_limit";				
				console.log("Limit j:"+j+":"+v["repeating_skillsknowledge_"+idarray[j]+"_skillsknowledge_limit"]);
			}			
		});
   });
});*/

on("change:repeating_skillsknowledge", function(eventInfo) {
	getAttrs(["klimit","glimit","slimit","alimit",
	"repeating_skillsknowledge_skillsknowledge_id",
	"repeating_skillsknowledge_skillsknowledge_limit","repeating_skillsknowledge_skillsknowledge_limit_mod",
	"repeating_skillsknowledge_skillsknowledge_note","repeating_skillsknowledge_skillsknowledge_include_note"], function(v) {
		
		if(v.repeating_skillsknowledge_skillsknowledge_id == "" || v.repeating_skillsknowledge_skillsknowledge_id == undefined){
			return;
		}
		
		var attrs = {};
		
		var mod = safe.I(v.repeating_skillsknowledge_skillsknowledge_limit_mod);
		if(v.repeating_skillsknowledge_skillsknowledge_limit == "@{glimit}"){
			var total = safe.I(v.glimit) + mod;
			attrs['repeating_skillsknowledge_skillsknowledge_limit_text'] = "{{limit="+safe.I(v.glimit)+"}}";
			attrs['repeating_skillsknowledge_skillsknowledge_limit_formatted'] = "kh"+safe.I(v.glimit);
			attrs['repeating_skillsknowledge_skillsknowledge_limit_display'] = v.glimit;
			attrs['repeating_skillsknowledge_skillsknowledge_limit_total'] = total;			
		}else if(v.repeating_skillsknowledge_skillsknowledge_limit == "0"){
			var total = mod;
			attrs['repeating_skillsknowledge_skillsknowledge_limit_text'] = "{{limit="+safe.I(v.repeating_skillsknowledge_skillsknowledge_limit_mod)+"}}";
			attrs['repeating_skillsknowledge_skillsknowledge_limit_formatted'] = "kh"+safe.I(v.repeating_skillsknowledge_skillsknowledge_limit_mod);
			attrs['repeating_skillsknowledge_skillsknowledge_limit_display'] = "-";
			attrs['repeating_skillsknowledge_skillsknowledge_limit_total'] = total;
		}else if(v.repeating_skillsknowledge_skillsknowledge_limit == "99"){
			attrs['repeating_skillsknowledge_skillsknowledge_limit_text'] = "{{unused}}";
			attrs['repeating_skillsknowledge_skillsknowledge_limit_formatted'] = "kh9999";
			attrs['repeating_skillsknowledge_skillsknowledge_limit_display'] = "-";
			attrs['repeating_skillsknowledge_skillsknowledge_limit_total'] = "-";			
		}
		if(v.repeating_skillsknowledge_skillsknowledge_include_note == "on"){
			attrs['repeating_skillsknowledge_skillsknowledge_desc'] = "{{desc=@{skillsknowledge_note}}}";				
		}else{
			attrs['repeating_skillsknowledge_skillsknowledge_desc'] = "{{unused}}";							
		}
		setAttrs(attrs,{silent:true});
	});
});

//Zustandsmonitor
on("change:zmp_aktuell change:zmp_maximum change:zmp_toleranz "+
   "change:zmg_aktuell change:zmg_maximum change:zmg_toleranz "+
   "change:overflow_aktuell change:overflow_maximum change:overflow_toleranz", function() {
	getAttrs(["zmp_aktuell","zmp_maximum","zmp_toleranz",
	          "zmg_aktuell","zmg_maximum","zmg_toleranz",
			  "overflow_aktuell","overflow_maximum","overflow_toleranz"], function(v) {
		var pc = safe.I(v.zmp_aktuell);
		var pm = safe.I(v.zmp_maximum);
		var pt = safe.I(v.zmp_toleranz);
		
		var gc = safe.I(v.zmg_aktuell);
		var gm = safe.I(v.zmg_maximum);
		var gt = safe.I(v.zmg_toleranz);
		
		var oc = safe.I(v.overflow_aktuell);
		var om = safe.I(v.overflow_maximum);
		var ot = safe.I(v.overflow_toleranz);
		
		if(gc > gm + 1){
			//Overflow -> physical per 2 boxes
			var overflow = Math.floor((gc - gm)/2.0);
			pc = pc + overflow;
			//Substract overflow from mental
			gc = gc - overflow*2;			
		}
		
		if(pc > pm){
			var overflow = pc - pm;
			oc = oc + overflow;
			//Substract overflow from physical
			pc = pc - overflow;
		}
		if(pt<=0){
			pt =1;
		}
		if(gt<=0){
			gt =1;
		}
		if(ot<=0){
			ot = 1;
		}
		var mod_p = Math.floor(pc/pt);
		var mod_g = Math.floor(gc/gt);
		var injurymod = mod_p + mod_g;
		
		setAttrs({
			"zmp_aktuell":pc,
			"zmp_toleranz":pt,
	        "zmg_aktuell":gc,
			"zmg_toleranz":gt,
			"overflow_aktuell":oc,
			"overflow_toleranz":ot,
			"injury_mod":injurymod
		});
	});
});

//ROW ID
/*on("sheet:opened change:repeating_weaponsranged", function() {
	//console.log("repeating_weaponsranged");
	getSectionIDs("repeating_weaponsranged", function(idarray) {
		//console.log("getSectionIDs");
		for(var i=0; i < idarray.length; i++) {
			//Do something with the IDs
			//console.log(idarray[i]);
			var attrs ={};
			attrs['repeating_weaponsranged_' + idarray[i] + '_weaponsranged_id'] = idarray[i];
			setAttrs(attrs);	
		}
	});
});

on("sheet:opened change:repeating_preparations", function() {
	getSectionIDs("repeating_preparations", function(idarray) {
		for(var i=0; i < idarray.length; i++) {
			var attrs ={};
			attrs['repeating_preparations_' + idarray[i] + '_preparations_id'] = idarray[i];
			setAttrs(attrs);	
		}
	});
});*/

on("sheet:opened change:repeating_spellcasting", function() {update_id("spellcasting");});
on("sheet:opened change:repeating_alchemyspells", function() {update_id("alchemyspells");});
on("sheet:opened change:repeating_preparations", function() {update_id("preparations");});
on("sheet:opened change:repeating_summonspirit", function() {update_id("summonspirit");});
on("sheet:opened change:repeating_rituals", function() {update_id("rituals");});
on("sheet:opened change:repeating_adeptpowers", function() {update_id("adeptpowers");});
on("sheet:opened change:repeating_positivequalities", function() {update_id("positivequalities");});
on("sheet:opened change:repeating_negativequalities", function() {update_id("negativequalities");});
on("sheet:opened change:repeating_advancementkarma", function() {update_id("advancementkarma");});
on("sheet:opened change:repeating_advancementnuyen", function() {update_id("advancementnuyen");});
on("sheet:opened change:repeating_skillsaction", function() {update_id("skillsaction");});
on("sheet:opened change:repeating_skillsknowledge", function() {update_id("skillsknowledge");});
on("sheet:opened change:repeating_weaponsranged", function() {update_id("weaponsranged");});
on("sheet:opened change:repeating_weaponsmelee", function() {update_id("weaponsmelee");});
on("sheet:opened change:repeating_combatpools", function() {update_id("combatpools");});
on("sheet:opened change:repeating_armor", function() {update_id("armor");});
on("sheet:opened change:repeating_cyberdecks", function() {update_id("cyberdecks");});
on("sheet:opened change:repeating_riggerconsoles", function() {update_id("riggerconsoles");});
on("sheet:opened change:repeating_matrixprograms", function() {update_id("matrixprograms");});
on("sheet:opened change:repeating_complexforms", function() {update_id("complexforms");});
on("sheet:opened change:repeating_compilesprites", function() {update_id("compilesprites");});
on("sheet:opened change:repeating_sins", function() {update_id("sins");});
on("sheet:opened change:repeating_licenses", function() {update_id("licenses");});
on("sheet:opened change:repeating_lifestyles", function() {update_id("lifestyles");});
on("sheet:opened change:repeating_connections", function() {update_id("connections");});
on("sheet:opened change:repeating_equipment", function() {update_id("equipment");});
on("sheet:opened change:repeating_augmentations", function() {update_id("augmentations");});
on("sheet:opened change:repeating_ammunition", function() {update_id("ammunition");});
on("sheet:opened change:repeating_vehicles", function() {update_id("vehicles");});
on("sheet:opened change:repeating_drones", function() {update_id("drones");});
on("sheet:opened change:repeating_orders", function() {update_id("orders");});

var update_id = function(name){	getSectionIDs("repeating_"+name, function(idarray) {for(var i=0; i < idarray.length; i++) {var attrs ={};attrs['repeating_'+name+'_' + idarray[i] + '_'+name+'_id'] = idarray[i];setAttrs(attrs,{silent:true});}});};

var update_kon = function(){getAttrs(["kon_basis","kon_mod"],function(v){setAttrs({"kon":safe.I(v["kon_basis"])+safe.I(v["kon_mod"])});});};
var update_ges = function(){getAttrs(["ges_basis","ges_mod"],function(v){setAttrs({"ges":safe.I(v["ges_basis"])+safe.I(v["ges_mod"])});});};
var update_rea = function(){getAttrs(["rea_basis","rea_mod"],function(v){setAttrs({"rea":safe.I(v["rea_basis"])+safe.I(v["rea_mod"])});});};
var update_str = function(){getAttrs(["str_basis","str_mod"],function(v){setAttrs({"str":safe.I(v["str_basis"])+safe.I(v["str_mod"])});});};

var update_wil = function(){getAttrs(["wil_basis","wil_mod"],function(v){setAttrs({"wil":safe.I(v["wil_basis"])+safe.I(v["wil_mod"])});});};
var update_int = function(){getAttrs(["int_basis","int_mod"],function(v){setAttrs({"int":safe.I(v["int_basis"])+safe.I(v["int_mod"])});});};
var update_log = function(){getAttrs(["log_basis","log_mod"],function(v){setAttrs({"log":safe.I(v["log_basis"])+safe.I(v["log_mod"])});});};
var update_cha = function(){getAttrs(["cha_basis","cha_mod"],function(v){setAttrs({"cha":safe.I(v["cha_basis"])+safe.I(v["cha_mod"])});});};

// special attributes
var update_mag = function(){getAttrs(["mag_basis","mag_mod"],function(v){setAttrs({"mag":safe.I(v["mag_basis"])+safe.I(v["mag_mod"])});});};
var update_res = function(){getAttrs(["res_basis","res_mod"],function(v){setAttrs({"res":safe.I(v["res_basis"])+safe.I(v["res_mod"])});});};

// edge/essence
var update_edg = function(){
	getAttrs(["edg_basis","edg_mod"], function(v) {
      setAttrs({
          "edg": safe.I(v.edg_basis) + safe.I(v.edg_mod),
		  "edgpunkte_max": safe.I(v.edg_basis) + safe.I(v.edg_mod)
      });
   });
};

var update_ess = function(){
	getAttrs(["ess_basis","ess_mod"], function(v) {
		setAttrs({
		  "ess": safe.F(v.ess_basis) - safe.F(v.ess_mod)
		});
   });
};

var update_initiative = function(){
	getAttrs(["rea","int"], function(v) {
      setAttrs({
          "initiative_basis": safe.F(v.rea) + safe.F(v.int)
      });
   });
};

var update_ar_initiative = function(){
	getAttrs(["rea","int"], function(v) {
      setAttrs({
          "ar_initiative_basis": safe.F(v.rea) + safe.F(v.int)
      });
   });
};

var update_vr_cold_initiative = function(){
	return;//Do nothing at the moment -> Later we want to update this from the active deck
	getAttrs(["int"], function(v) {
      setAttrs({
          "vr_cold_initiative_basis": safe.F(v.int)*2.0
      });
   });
};

var update_vr_hot_initiative = function(){
return;//Do nothing at the moment -> Later we want to update this from the active deck
	getAttrs(["int"], function(v) {
      setAttrs({
          "vr_hot_initiative_basis": safe.F(v.int)*2.0
      });
   });
};

var update_astral_initiative = function(){
	getAttrs(["int"], function(v) {
      setAttrs({
          "astral_initiative_basis": safe.F(v.int)*2.0
      });
   });
};

var set_active_ini = function(){
	getAttrs(["ini_active",
	"initiative_basis","initiative_mod","initiative_wuerfel",
	"ar_initiative_basis","ar_initiative_mod","ar_initiative_wuerfel",
	"vr_cold_initiative_basis","vr_cold_initiative_mod","vr_cold_initiative_wuerfel",
	"vr_hot_initiative_basis","vr_hot_initiative_mod","vr_hot_initiative_wuerfel",
	"ar_initiative_basis","ar_initiative_mod","ar_initiative_wuerfel",
	"astral_initiative_basis","astral_initiative_mod","astral_initiative_wuerfel"], function(v) {
		if (v.ini_active == "INI"){
			setAttrs({
				"initiative_basis_active": safe.I(v.initiative_basis),
				"initiative_mod_active": safe.I(v.initiative_mod),
				"initiative_wuerfel_active": safe.I(v.initiative_wuerfel)
			});
		}else if (v.ini_active == "AR"){
			setAttrs({
				"initiative_basis_active": safe.I(v.ar_initiative_basis),
				"initiative_mod_active": safe.I(v.ar_initiative_mod),
				"initiative_wuerfel_active": safe.I(v.ar_initiative_wuerfel)
			});
		}else if (v.ini_active == "VRk"){
			setAttrs({
				"initiative_basis_active": safe.I(v.vr_cold_initiative_basis),
				"initiative_mod_active": safe.I(v.vr_cold_initiative_mod),
				"initiative_wuerfel_active": safe.I(v.vr_cold_initiative_wuerfel)
			});
		}else if (v.ini_active == "VRh"){
			setAttrs({
				"initiative_basis_active": safe.I(v.vr_hot_initiative_basis),
				"initiative_mod_active": safe.I(v.vr_hot_initiative_mod),
				"initiative_wuerfel_active": safe.I(v.vr_hot_initiative_wuerfel)
			});
		}else if (v.ini_active == "Astral"){
			setAttrs({
				"initiative_basis_active": safe.I(v.astral_initiative_basis),
				"initiative_mod_active": safe.I(v.astral_initiative_mod),
				"initiative_wuerfel_active": safe.I(v.astral_initiative_wuerfel)
			});
		}      
   });
};

// limits
var update_klimit = function(){
	getAttrs(["str","kon","rea","klimit_mod"], function(v) {	
		klimit = Math.ceil((safe.I(v.str)*2.0 + safe.I(v.kon) + safe.I(v.rea))/3.0);
		klimit_mod = safe.I(v.klimit_mod);
		setAttrs({
		  "klimit_basis": klimit,
		  "klimit": klimit + klimit_mod
		});
	});
};

var update_glimit = function(){
	getAttrs(["log","int","wil","glimit_mod"], function(v) {
		glimit = Math.ceil((safe.I(v.log)*2.0 + safe.I(v.int) + safe.I(v.wil))/3.0);
		glimit_mod = safe.I(v.glimit_mod);
		setAttrs({
		  "glimit_basis": glimit,
		  "glimit": glimit + glimit_mod
		});
	});
};

var update_slimit = function(){
	getAttrs(["cha","wil","ess","slimit_mod"], function(v) {
		slimit = Math.ceil((safe.I(v.cha)*2.0 + safe.I(v.wil) + safe.I(v.ess))/3.0);
		slimit_mod = safe.I(v.slimit_mod);
		setAttrs({
		  "slimit_basis": slimit,
		  "slimit": slimit + slimit_mod
		});
	});
};

var update_alimit = function(){
	getAttrs(["glimit","slimit","alimit_mod"], function(v) {
		alimit = Math.max(safe.I(v.glimit),safe.I(v.slimit));
		alimit_mod = safe.I(v.alimit_mod);
		setAttrs({
		  "alimit_basis": alimit,
		  "alimit": alimit + alimit_mod
		});
	});
};

// movement
var update_movement = function(){
	getAttrs(["ges","bewegung_gehen_mult","bewegung_laufen_mult"], function(v) {
		ges = safe.I(v.ges);
		gehen_mult = safe.I(v.bewegung_gehen_mult);
		laufen_mult = safe.I(v.bewegung_laufen_mult);
		setAttrs({
		  "bewegung_gehen": ges*gehen_mult,
		  "bewegung_laufen": ges*laufen_mult,
		  "bewegung_sprinten": 0
		});
	});
};
// lifting
var update_lifting = function(){
	getAttrs(["str","tragkraft_heben_mult","tragkraft_tragen_mult","tragkraft_stemmen_mult"], function(v) {
		str = safe.I(v.str);
		heben_mult = safe.I(v.tragkraft_heben_mult);
		tragen_mult = safe.I(v.tragkraft_tragen_mult);
		stemmen_mult = safe.I(v.tragkraft_stemmen_mult);
		setAttrs({
		  "tragkraft_heben": str*heben_mult,
		  "tragkraft_tragen": str*tragen_mult,
		  "tragkraft_stemmen": str*stemmen_mult
		});
	});
};

// attribute rolls
var update_composure = function(){
	getAttrs(["cha","wil","selbstbeherrschung_mod"], function(v) {
		cha = safe.I(v.cha);
		wil = safe.I(v.wil);
		mod = safe.I(v.selbstbeherrschung_mod);		
		setAttrs({
		  "selbstbeherrschung_basis": cha+wil,
		  "selbstbeherrschung": cha+wil+mod
		});
	});
};

var update_judge = function(){
	getAttrs(["cha","int","menschenkenntnis_mod"], function(v) {
		cha = safe.I(v.cha);
		intuition = safe.I(v.int);
		mod = safe.I(v.menschenkenntnis_mod);		
		setAttrs({
		  "menschenkenntnis_basis": cha+intuition,
		  "menschenkenntnis": cha+intuition+mod
		});
	});
};

var update_memory = function(){
	getAttrs(["log","int","erinnerung_mod"], function(v) {
		log = safe.I(v.log);
		intuition = safe.I(v.int);
		mod = safe.I(v.erinnerung_mod);		
		setAttrs({
		  "erinnerung_basis": log+intuition,
		  "erinnerung": log+intuition+mod
		});
	});
};
var safe = {
I:function(x){return x = isNaN(parseInt(x))   ?0:parseInt(x);},
F:function(x){return x = isNaN(parseFloat(x)) ?0:parseFloat(x);}
};
</script>